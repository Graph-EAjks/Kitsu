{"version":3,"file":"ComboboxStudio-CqoeeN6u.js","sources":["../../src/components/widgets/StudioName.vue","../../src/components/widgets/ComboboxStudio.vue"],"sourcesContent":["<template>\n  <span class=\"studio-name\" :class=\"{ 'no-padding': noPadding }\">\n    <span\n      class=\"square\"\n      :style=\"{ backgroundColor: studio.color }\"\n      :title=\"onlyDot ? studio.name : undefined\"\n    ></span>\n    <span class=\"name\" v-if=\"!onlyDot\">\n      {{ studio.name }}\n    </span>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: 'studio-name',\n\n  props: {\n    noPadding: {\n      type: Boolean,\n      default: false\n    },\n    onlyDot: {\n      type: Boolean,\n      default: false\n    },\n    studio: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.studio-name {\n  display: inline-block;\n  color: var(--text);\n  padding: 0.2em 0.6em;\n  white-space: nowrap;\n\n  &.no-padding {\n    padding: 0;\n  }\n}\n\n.square {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n}\n\n.name {\n  margin-left: 0.3em;\n}\n</style>\n","<template>\n  <div>\n    <label class=\"label\" v-if=\"label.length\">\n      {{ label }}\n    </label>\n    <div\n      class=\"studio-combo\"\n      :class=\"{\n        opened: showStudioList,\n        rounded\n      }\"\n      :style=\"{ width: `${width}px` }\"\n    >\n      <div class=\"flexrow\" @click=\"toggleStudioList\">\n        <div class=\"selected-studio-line flexrow-item\">\n          <studio-name :studio=\"currentStudio\" v-if=\"currentStudio\" />\n        </div>\n        <chevron-down-icon class=\"down-icon flexrow-item\" />\n      </div>\n      <div\n        class=\"select-input\"\n        :style=\"{\n          'max-height': `${maxHeightSelectInput}px`,\n          width: `${width}px`,\n          top: rounded ? '30px' : '37px'\n        }\"\n        v-if=\"showStudioList\"\n      >\n        <div\n          class=\"studio-line\"\n          :key=\"studio.id\"\n          v-for=\"studio in studioList\"\n          @click=\"selectStudio(studio)\"\n        >\n          <studio-name :studio=\"studio\" />\n        </div>\n      </div>\n    </div>\n    <combobox-mask :displayed=\"showStudioList\" @click=\"toggleStudioList\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { ChevronDownIcon } from 'vue-feather-icons'\n\nimport ComboboxMask from '@/components/widgets/ComboboxMask.vue'\nimport StudioName from '@/components/widgets/StudioName.vue'\n\nexport default {\n  name: 'combobox-studio',\n\n  components: {\n    ChevronDownIcon,\n    ComboboxMask,\n    StudioName\n  },\n\n  data() {\n    return {\n      showStudioList: false\n    }\n  },\n\n  props: {\n    label: {\n      default: '',\n      type: String\n    },\n    maxHeightSelectInput: {\n      default: 200,\n      type: Number\n    },\n    rounded: {\n      default: false,\n      type: Boolean\n    },\n    selectableStudios: {\n      type: Array,\n      required: false\n    },\n    value: {\n      default: '',\n      type: String\n    },\n    width: {\n      default: 250,\n      type: Number\n    },\n    withEmptyChoice: {\n      default: true,\n      type: Boolean\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'isCurrentUserManager',\n      'isCurrentUserSupervisor',\n      'studios',\n      'studioMap',\n      'user'\n    ]),\n\n    studioList() {\n      const studios = this.selectableStudio\n        ? [...this.selectableStudio]\n        : [...this.studios]\n\n      if (this.withEmptyChoice) {\n        return [\n          {\n            color: '#aaa',\n            id: null,\n            name: this.$t('studios.no_studio')\n          },\n          ...studios\n        ]\n      }\n      return studios\n    },\n\n    currentStudio() {\n      if (!this.value) {\n        return this.studioList[0]\n      }\n      return (\n        this.studioMap.get(this.value) ??\n        this.studioList.find(({ id }) => id === this.value)\n      )\n    }\n  },\n\n  methods: {\n    selectStudio(studio) {\n      this.$emit('input', studio.id)\n      this.showStudioList = false\n    },\n\n    toggleStudioList() {\n      this.showStudioList = !this.showStudioList\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .select-input,\n  .selected-studio-line,\n  .studio-line,\n  .studio-combo {\n    background: $dark-grey-light;\n    border-color: $dark-grey;\n  }\n\n  .studio-line:hover {\n    background: $dark-purple;\n  }\n}\n\n.studio-combo {\n  background: $white;\n  border: 1px solid $light-grey-light;\n  user-select: none;\n  cursor: pointer;\n  border-radius: 10px;\n  margin: 0;\n  padding: 0.15em;\n  position: relative;\n\n  &:hover {\n    border: 1px solid $green;\n  }\n}\n\n.selected-studio-line {\n  background: $white;\n  padding: 0.2em;\n  flex: 1;\n}\n\n.studio-line {\n  background: $white;\n  cursor: pointer;\n  padding: 0.2em;\n  margin: 0;\n\n  &:hover {\n    background: $purple;\n  }\n}\n\n.down-icon {\n  color: $green;\n  cursor: pointer;\n  width: 15px;\n  min-width: 15px;\n  margin-right: 0.4em;\n}\n\n.select-input {\n  background: $white;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  position: absolute;\n  border: 1px solid $light-grey-light;\n  z-index: 300;\n  margin-left: -1px;\n  max-height: 200px;\n  overflow-y: auto;\n  left: 0;\n}\n\n.field .label {\n  padding-top: 5px;\n}\n\n.rounded {\n  border-radius: 10px;\n\n  &.opened {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  .selected-studio-line {\n    padding-top: 0;\n\n    padding-bottom: 0;\n    border-radius: 50px;\n  }\n}\n</style>\n"],"names":["_sfc_main","ChevronDownIcon","ComboboxMask","StudioName","mapGetters","studios","id","studio"],"mappings":"+DAcA,MAAAA,EAAA,CACA,KAAA,cAEA,MAAA,CACA,UAAA,CACA,KAAA,QACA,QAAA,EACA,EACA,QAAA,CACA,KAAA,QACA,QAAA,EACA,EACA,OAAA,CACA,KAAA,OACA,SAAA,EACA,CACA,CACA,oYCkBAA,EAAA,CACA,KAAA,kBAEA,WAAA,CACA,gBAAAC,EACA,aAAAC,EACA,WAAAC,CACA,EAEA,MAAA,CACA,MAAA,CACA,eAAA,EACA,CACA,EAEA,MAAA,CACA,MAAA,CACA,QAAA,GACA,KAAA,MACA,EACA,qBAAA,CACA,QAAA,IACA,KAAA,MACA,EACA,QAAA,CACA,QAAA,GACA,KAAA,OACA,EACA,kBAAA,CACA,KAAA,MACA,SAAA,EACA,EACA,MAAA,CACA,QAAA,GACA,KAAA,MACA,EACA,MAAA,CACA,QAAA,IACA,KAAA,MACA,EACA,gBAAA,CACA,QAAA,GACA,KAAA,OACA,CACA,EAEA,SAAA,CACA,GAAAC,EAAA,CACA,uBACA,0BACA,UACA,YACA,MACA,CAAA,EAEA,YAAA,CACA,MAAAC,EAAA,KAAA,iBACA,CAAA,GAAA,KAAA,gBAAA,EACA,CAAA,GAAA,KAAA,OAAA,EAEA,OAAA,KAAA,gBACA,CACA,CACA,MAAA,OACA,GAAA,KACA,KAAA,KAAA,GAAA,mBAAA,CACA,EACA,GAAAA,CACA,EAEAA,CACA,EAEA,eAAA,CACA,OAAA,KAAA,MAIA,KAAA,UAAA,IAAA,KAAA,KAAA,GACA,KAAA,WAAA,KAAA,CAAA,CAAA,GAAAC,CAAA,IAAAA,IAAA,KAAA,KAAA,EAJA,KAAA,WAAA,CAAA,CAMA,CACA,EAEA,QAAA,CACA,aAAAC,EAAA,CACA,KAAA,MAAA,QAAAA,EAAA,EAAA,EACA,KAAA,eAAA,EACA,EAEA,kBAAA,CACA,KAAA,eAAA,CAAA,KAAA,cACA,CACA,CACA"}