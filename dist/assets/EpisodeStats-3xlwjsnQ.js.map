{"version":3,"file":"EpisodeStats-3xlwjsnQ.js","sources":["../../src/components/lists/EpisodeStatsList.vue","../../src/components/pages/EpisodeStats.vue"],"sourcesContent":["<template>\n  <div class=\"data-list\">\n    <div class=\"datatable-wrapper\" ref=\"body\" @scroll.passive=\"onBodyScroll\">\n      <table class=\"datatable\">\n        <thead class=\"datatable-head\">\n          <tr>\n            <th class=\"expander\"></th>\n            <th scope=\"col\" class=\"name datatable-row-header\" ref=\"th-episode\">\n              {{ $t('shots.fields.episode') }}\n            </th>\n            <th scope=\"col\" class=\"validation\">{{ $t('main.all') }}</th>\n            <th\n              scope=\"col\"\n              class=\"validation validation-cell\"\n              :key=\"taskTypeMap.get(columnId).id\"\n              v-for=\"columnId in validationColumns\"\n            >\n              <div\n                class=\"flexrow validation-content\"\n                :style=\"getValidationStyle(columnId)\"\n              >\n                <router-link\n                  class=\"flexrow-item ellipsis\"\n                  :title=\"taskTypeMap.get(columnId).name\"\n                  :to=\"taskTypePath(columnId)\"\n                  v-if=\"!isCurrentUserClient\"\n                >\n                  {{ taskTypeMap.get(columnId).name }}\n                </router-link>\n                <span\n                  class=\"flexrow-item ellipsis\"\n                  :title=\"taskTypeMap.get(columnId).name\"\n                  v-else\n                >\n                  {{ taskTypeMap.get(columnId).name }}\n                </span>\n              </div>\n            </th>\n            <th scope=\"col\" class=\"actions\"></th>\n          </tr>\n        </thead>\n        <tbody class=\"datatable-body\" v-if=\"!isLoading\">\n          <tr class=\"all-line datatable-row\" v-if=\"showAll && !isEmptyList\">\n            <td class=\"expander\"></td>\n\n            <td scope=\"col\" class=\"name datatable-row-header\">\n              {{ $t('episodes.all_episodes') }}\n            </td>\n\n            <stats-cell\n              :colors=\"chartColors('all', 'all')\"\n              :data=\"chartData('all', 'all')\"\n              :frames-data=\"chartData('all', 'all', 'frames')\"\n              :count-mode=\"countMode\"\n              :display-mode=\"displayMode\"\n            />\n\n            <stats-cell\n              :style=\"getValidationStyle(columnId)\"\n              :key=\"'all-' + columnId\"\n              :colors=\"chartColors('all', columnId)\"\n              :data=\"chartData('all', columnId)\"\n              :frames-data=\"chartData('all', columnId, 'frames')\"\n              :count-mode=\"countMode\"\n              :display-mode=\"displayMode\"\n              v-for=\"columnId in validationColumns\"\n            />\n\n            <td class=\"actions\"></td>\n          </tr>\n\n          <template v-for=\"entry in entries\" :key=\"entry.id\">\n            <tr class=\"datatable-row\">\n              <td class=\"expander\" @click=\"toggleExpanded(entry.id)\">\n                <chevron-right-icon\n                  v-if=\"isRetakes && expanded[entry.id] !== true\"\n                />\n                <chevron-down-icon\n                  v-if=\"isRetakes && expanded[entry.id] === true\"\n                />\n              </td>\n\n              <td class=\"name datatable-row-header\">\n                {{ entry.name }}\n              </td>\n\n              <stats-cell\n                :colors=\"chartColors(entry.id, 'all')\"\n                :data=\"chartData(entry.id, 'all')\"\n                :frames-data=\"chartData(entry.id, 'all', 'frames')\"\n                :count-mode=\"countMode\"\n                :display-mode=\"displayMode\"\n                v-if=\"isStats(entry.id, 'all')\"\n              />\n              <td v-else></td>\n\n              <template v-for=\"columnId in validationColumns\">\n                <stats-cell\n                  :key=\"entry.id + columnId\"\n                  :style=\"getValidationStyle(columnId)\"\n                  :colors=\"chartColors(entry.id, columnId)\"\n                  :data=\"chartData(entry.id, columnId)\"\n                  :frames-data=\"chartData(entry.id, columnId, 'frames')\"\n                  :count-mode=\"countMode\"\n                  :display-mode=\"displayMode\"\n                  :label=\"chartLabel(entry.id, columnId)\"\n                  :label-color=\"chartLabelColor(entry.id, columnId)\"\n                  v-if=\"isStats(entry.id, columnId)\"\n                />\n                <td\n                  :key=\"entry.id + columnId + '-td'\"\n                  :style=\"getValidationStyle(columnId)\"\n                  v-else\n                ></td>\n              </template>\n\n              <td class=\"actions\"></td>\n            </tr>\n            <template v-if=\"expanded[entry.id]\">\n              <tr\n                class=\"datatable-row\"\n                :key=\"takeNumber + '-' + entry.id\"\n                v-for=\"takeNumber in takeRange(entry.id)\"\n              >\n                <td class=\"expander\"></td>\n                <td class=\"name datatable-row-header\">\n                  - Take {{ takeNumber }}\n                </td>\n                <td></td>\n\n                <template v-for=\"columnId in validationColumns\">\n                  <stats-cell\n                    :key=\"takeNumber + entry.id + columnId\"\n                    :style=\"getValidationStyle(columnId)\"\n                    :colors=\"chartColors(entry.id, columnId)\"\n                    :data=\"chartTakeData(entry.id, columnId, takeNumber)\"\n                    :frames-data=\"\n                      chartTakeData(entry.id, columnId, takeNumber, 'frames')\n                    \"\n                    :count-mode=\"countMode\"\n                    :display-mode=\"displayMode\"\n                    v-if=\"\n                      chartRetakeMaxCount(entry.id, columnId) + 1 > takeNumber\n                    \"\n                  />\n\n                  <stats-cell\n                    :key=\"takeNumber + entry.id + columnId\"\n                    :style=\"getValidationStyle(columnId)\"\n                    :colors=\"chartColors(entry.id, columnId)\"\n                    :data=\"chartData(entry.id, columnId)\"\n                    :frames-data=\"chartData(entry.id, columnId, 'frames')\"\n                    :count-mode=\"countMode\"\n                    :display-mode=\"displayMode\"\n                    v-else-if=\"\n                      isStats(entry.id, columnId) &&\n                      chartRetakeMaxCount(entry.id, columnId) + 1 === takeNumber\n                    \"\n                  />\n                  <td\n                    :key=\"takeNumber + entry.id + columnId\"\n                    :style=\"getValidationStyle(columnId)\"\n                    v-else\n                  ></td>\n                </template>\n\n                <td class=\"actions\"></td>\n              </tr>\n            </template>\n          </template>\n        </tbody>\n      </table>\n    </div>\n\n    <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n    <div\n      class=\"has-text-centered\"\n      v-if=\"!isLoading && isEmptyList && !isCurrentUserClient\"\n    >\n      <p class=\"info\">\n        <img src=\"../../assets/illustrations/empty_shot.png\" />\n      </p>\n      <p class=\"info\">{{ $t('episodes.empty_list') }}</p>\n    </div>\n    <div\n      class=\"has-text-centered\"\n      v-if=\"!isLoading && isEmptyList && isCurrentUserClient\"\n    >\n      <p class=\"info\">\n        <img src=\"../../assets/illustrations/empty_shot.png\" />\n      </p>\n      <p class=\"info\">{{ $t('episodes.empty_list_client') }}</p>\n    </div>\n\n    <p class=\"has-text-centered nb-episodes\" v-if=\"!isEmptyList\">\n      {{ displayedEpisodesLength }}\n      {{ $tc('episodes.number', displayedEpisodesLength) }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport { ChevronDownIcon, ChevronRightIcon } from 'lucide-vue-next'\nimport { mapGetters } from 'vuex'\n\nimport { entityListMixin } from '@/components/mixins/entity_list'\nimport { range } from '@/lib/time'\nimport {\n  getChartColors,\n  getChartData,\n  getChartRetakeCount,\n  getRetakeChartData\n} from '@/lib/stats'\n\nimport StatsCell from '@/components/cells/StatsCell.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\n\nexport default {\n  name: 'episode-stats-list',\n\n  mixins: [entityListMixin],\n\n  components: {\n    ChevronDownIcon,\n    ChevronRightIcon,\n    StatsCell,\n    TableInfo\n  },\n\n  props: {\n    countMode: {\n      type: String,\n      default: 'count'\n    },\n    dataMode: {\n      type: String,\n      default: 'retakes'\n    },\n    displayMode: {\n      type: String,\n      default: 'pie'\n    },\n    entries: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    showAll: {\n      type: Boolean,\n      default: false\n    },\n    validationColumns: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      expanded: {},\n      lastSelection: null,\n      takeLabelColors: ['#FB8C00', '#EF6C00', '#d35400', '#e74c3c', '#c0392b']\n    }\n  },\n\n  mounted() {\n    this.entries.forEach(e => {\n      this.expanded[e.id] = false\n    })\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'displayedEpisodesLength',\n      'episodeSearchText',\n      'episodeStats',\n      'episodeRetakeStats',\n      'isCurrentUserClient',\n      'isCurrentUserManager',\n      'isSingleEpisode',\n      'isTVShow',\n      'taskTypeMap'\n    ]),\n\n    isEmptyList() {\n      return (\n        this.entries &&\n        this.entries.length === 0 &&\n        !this.isLoading &&\n        !this.isError &&\n        (!this.episodeSearchText || this.episodeSearchText.length === 0)\n      )\n    },\n\n    isRetakes() {\n      return this.dataMode === 'retakes'\n    }\n  },\n\n  methods: {\n    chartColors(entryId, columnId) {\n      if (this.isRetakes) {\n        return ['#ff3860', '#6f727a', '#22d160']\n      } else {\n        return getChartColors(this.episodeStats, entryId, columnId)\n      }\n    },\n\n    chartData(entryId, columnId, dataType = 'count') {\n      if (this.isRetakes) {\n        return getRetakeChartData(\n          this.episodeRetakeStats,\n          entryId,\n          columnId,\n          dataType\n        )\n      } else {\n        return getChartData(this.episodeStats, entryId, columnId, dataType)\n      }\n    },\n\n    chartTakeData(entryId, columnId, takeNumber, dataType = 'count') {\n      const evolutionStats =\n        this.episodeRetakeStats[entryId][columnId].evolution\n      const nbRetakes = evolutionStats[takeNumber].retake[dataType]\n      const nbDones = evolutionStats[takeNumber].done[dataType]\n      const nbOthers = evolutionStats[takeNumber].other[dataType]\n      // Order here is important\n      return [\n        ['retake', nbRetakes, '#ff3860'],\n        ['other', nbOthers, '#6f727a'],\n        ['done', nbDones, '#22d160']\n      ]\n    },\n\n    chartLabel(entryId, columnId) {\n      if (this.isRetakes) {\n        const count = getChartRetakeCount(\n          this.episodeRetakeStats,\n          entryId,\n          columnId\n        )\n        return count >= 1 ? `Take ${count + 1}` : ''\n      } else {\n        return ''\n      }\n    },\n\n    chartLabelColor(entryId, columnId) {\n      if (this.isRetakes) {\n        let count = getChartRetakeCount(\n          this.episodeRetakeStats,\n          entryId,\n          columnId\n        )\n        count = Math.min(count, 4)\n        return this.takeLabelColors[count]\n      } else {\n        return ''\n      }\n    },\n\n    chartRetakeMaxCount(entryId, columnId) {\n      return getChartRetakeCount(this.episodeRetakeStats, entryId, columnId)\n    },\n\n    takeRange(entryId) {\n      return range(1, this.chartRetakeMaxCount(entryId, 'all') + 1)\n    },\n\n    isStats(entryId, columnId) {\n      return this.episodeStats[entryId] && this.episodeStats[entryId][columnId]\n    },\n\n    taskTypePath(taskTypeId) {\n      const route = {\n        name: 'task-type',\n        params: {\n          production_id: this.currentProduction.id,\n          task_type_id: taskTypeId,\n          type: 'count'\n        }\n      }\n\n      if (this.isTVShow) {\n        route.name = 'episode-task-type'\n        route.params.episode_id = this.currentEpisode.id\n      }\n\n      return route\n    },\n\n    getPath(section, episodeId) {\n      const route = {\n        name: section,\n        params: {\n          production_id: this.currentProduction.id,\n          episode_id: episodeId\n        }\n      }\n\n      return route\n    },\n\n    toggleExpanded(episodeId) {\n      this.expanded[episodeId] = !this.expanded[episodeId]\n    }\n  },\n\n  watch: {\n    entries: {\n      deep: true,\n      handler() {\n        this.entries.forEach(e => {\n          const value = this.expanded[e.id] || false\n          this.expanded[e.id] = value\n        })\n      }\n    },\n\n    isRetakes() {\n      if (!this.isRetakes) {\n        this.entries.forEach(e => {\n          this.expanded[e.id] = false\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.datatable-body tr:first-child th,\n.datatable-body tr:first-child td {\n  border-top: 0;\n}\n.name {\n  min-width: 100px;\n  width: 100px;\n  font-weight: bold;\n}\n\n.name a {\n  color: inherit;\n}\n\ntd.name {\n  font-size: 1.2em;\n}\n\n.expander {\n  cursor: pointer;\n  min-width: 10px;\n  width: 10px;\n  padding-top: 10px;\n}\n\n.description {\n  min-width: 200px;\n  max-width: 200px;\n  width: 200px;\n}\n\n.validation {\n  min-width: 170px;\n  max-width: 170px;\n  width: 170px;\n  word-wrap: break-word;\n}\n\n.actions {\n  min-width: 150px;\n  width: 150px;\n}\n\nth.actions {\n  padding: 0.4em;\n}\n\n.info img {\n  max-width: 80vh;\n}\n</style>\n","<template>\n  <div class=\"episodes page fixed-page\">\n    <div class=\"episode-list-header page-header flexrow\">\n      <search-field\n        class=\"flexrow-item mt1\"\n        ref=\"episode-search-field\"\n        @change=\"onSearchChange\"\n        placeholder=\"ex: e01 s01, anim=wip\"\n      />\n      <combobox\n        class=\"mb0 flexrow-item\"\n        locale-key-prefix=\"statistics.\"\n        :label=\"$t('statistics.data_mode')\"\n        :options=\"dataModeOptions\"\n        v-model=\"dataMode\"\n      />\n      <combobox\n        class=\"mb0 flexrow-item\"\n        locale-key-prefix=\"statistics.\"\n        :label=\"$t('statistics.display_mode')\"\n        :options=\"displayModeOptions\"\n        v-model=\"displayMode\"\n      />\n      <combobox\n        class=\"mb0 flexrow-item\"\n        :label=\"$t('statistics.count_mode')\"\n        locale-key-prefix=\"statistics.\"\n        :options=\"countModeOptions\"\n        v-model=\"countMode\"\n      />\n      <combobox\n        class=\"mb0 flexrow-item\"\n        :label=\"$t('statistics.episode_status')\"\n        locale-key-prefix=\"statistics.\"\n        :options=\"statusModeOptions\"\n        v-model=\"statusMode\"\n      />\n\n      <span class=\"filler\"></span>\n      <button-simple\n        class=\"flexrow-item\"\n        icon=\"refresh\"\n        :title=\"$t('main.reload')\"\n        @click=\"reset\"\n      />\n      <button-simple\n        class=\"flexrow-item\"\n        :disabled=\"isLoading\"\n        icon=\"download\"\n        @click=\"exportStatisticsToCsv\"\n      />\n    </div>\n\n    <episode-stats-list\n      ref=\"episode-list\"\n      :entries=\"\n        statusMode === 'running'\n          ? displayedEpisodes.filter(e => e.status === 'running')\n          : displayedEpisodes\n      \"\n      :is-loading=\"isLoading\"\n      :is-error=\"isLoadingError\"\n      :validation-columns=\"episodeValidationColumns\"\n      :episode-stats=\"episodeStats\"\n      :episode-retakes-stats=\"episodeRetakeStats\"\n      :data-mode=\"dataMode\"\n      :count-mode=\"countMode\"\n      :display-mode=\"displayMode\"\n      :show-all=\"episodeSearchText.length === 0\"\n      @field-changed=\"onFieldChanged\"\n      @scroll=\"saveScrollPosition\"\n    />\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport { mapGetters, mapActions } from 'vuex'\n\nimport csv from '@/lib/csv'\nimport preferences from '@/lib/preferences'\nimport stringHelpers from '@/lib/string'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport Combobox from '@/components/widgets/Combobox.vue'\nimport EpisodeStatsList from '@/components/lists/EpisodeStatsList.vue'\nimport SearchField from '@/components/widgets/SearchField.vue'\n\nexport default {\n  name: 'episode-stats',\n\n  components: {\n    ButtonSimple,\n    Combobox,\n    EpisodeStatsList,\n    SearchField\n  },\n\n  data() {\n    return {\n      countMode: 'count',\n      dataMode: 'retakes',\n      displayMode: 'pie',\n      episodeToDelete: null,\n      episodeToEdit: null,\n      isLoading: true,\n      isLoadingError: false,\n      statusMode: 'running',\n      countModeOptions: [\n        { label: 'shots', value: 'count' },\n        { label: 'frames', value: 'frames' }\n      ],\n      dataModeOptions: [\n        { label: 'retakes', value: 'retakes' },\n        { label: 'status', value: 'status' }\n      ],\n      displayModeOptions: [\n        { label: 'pie', value: 'pie' },\n        { label: 'count', value: 'count' }\n      ],\n      statusModeOptions: [\n        { label: 'only_running', value: 'running' },\n        { label: 'all', value: 'all' }\n      ],\n      errors: {\n        edit: false,\n        del: false\n      },\n      modals: {\n        isNewDisplayed: false,\n        isDeleteDisplayed: false\n      },\n      loading: {\n        edit: false,\n        del: false\n      }\n    }\n  },\n\n  mounted() {\n    const mode = preferences.getPreference('stats:episode-mode') || 'retakes'\n    this.dataMode = mode\n    this.setDefaultSearchText()\n    this.setDefaultListScrollPosition()\n    this.isLoading = true\n    this.isLoadingError = false\n    this.initEpisodes()\n      .then(() => {\n        this.isLoading = false\n      })\n      .catch(err => {\n        this.isLoading = false\n        this.isLoadingError = true\n        console.error(err)\n      })\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'displayedEpisodes',\n      'episodesPath',\n      'isCurrentUserManager',\n      'episodes',\n      'episodeMap',\n      'episodePath',\n      'episodeStats',\n      'episodeRetakeStats',\n      'episodeSearchText',\n      'episodeListScrollPosition',\n      'episodeValidationColumns',\n      'taskStatusMap',\n      'taskTypeMap'\n    ]),\n\n    isRetakeDataMode() {\n      return this.dataMode === 'retakes'\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'computeEpisodeStats',\n      'deleteEpisode',\n      'editEpisode',\n      'hideAssignations',\n      'initEpisodes',\n      'loadEpisodeStats',\n      'loadEpisodeRetakeStats',\n      'loadShots',\n      'setLastProductionScreen',\n      'setEpisodeSearch',\n      'setEpisodeListScrollPosition',\n      'showAssignations'\n    ]),\n\n    setDefaultSearchText() {\n      if (this.episodeSearchText.length > 0) {\n        this.$refs['episode-search-field'].setValue(this.episodeSearchText)\n      }\n    },\n\n    setDefaultListScrollPosition() {\n      this.$refs['episode-list'].setScrollPosition(\n        this.episodeListScrollPosition\n      )\n    },\n\n    navigateToList() {\n      this.$router.push(this.episodesPath)\n    },\n\n    onSearchChange(event) {\n      const searchQuery = this.$refs['episode-search-field'].getValue()\n      this.setEpisodeSearch(searchQuery)\n    },\n\n    saveScrollPosition(scrollPosition) {\n      this.setEpisodeListScrollPosition(scrollPosition)\n    },\n\n    exportStatisticsToCsv() {\n      const nameData = [\n        moment().format('YYYYMMDD'),\n        this.currentProduction.name,\n        'episodes',\n        'statistics'\n      ]\n      if (this.isRetakeDataMode) nameData.splice(3, 0, 'retake')\n      const name = stringHelpers.slugify(nameData.join('_'))\n      if (this.isRetakeDataMode) {\n        csv.generateRetakeStatReports(\n          name,\n          this.episodeRetakeStats,\n          this.taskTypeMap,\n          this.taskStatusMap,\n          this.episodeMap,\n          this.countMode,\n          this.currentProduction\n        )\n      } else {\n        csv.generateStatReports(\n          name,\n          this.episodeStats,\n          this.taskTypeMap,\n          this.taskStatusMap,\n          this.episodeMap,\n          this.countMode,\n          this.currentProduction\n        )\n      }\n    },\n\n    onFieldChanged({ entry, fieldName, value }) {\n      const data = { id: entry.id }\n      data[fieldName] = value\n      this.editEpisode(data)\n    },\n\n    reset() {\n      this.isLoading = true\n      this.isLoadingError = false\n      this.loadEpisodeStats(this.currentProduction.id)\n        .then(() => {\n          return this.loadEpisodeRetakeStats(this.currentProduction.id)\n        })\n        .then(() => {\n          this.isLoading = false\n        })\n        .catch(err => {\n          this.isLoading = false\n          this.isLoadingError = true\n          console.error(err)\n        })\n    }\n  },\n\n  watch: {\n    currentProduction() {\n      this.$refs['episode-search-field'].setValue('')\n      this.$store.commit('SET_SEQUENCE_LIST_SCROLL_POSITION', 0)\n      this.reset()\n    },\n\n    dataMode() {\n      preferences.setPreference('stats:episode-mode', this.dataMode)\n    }\n  },\n\n  head() {\n    return {\n      title: `${this.currentProduction.name} ${this.$t(\n        'episodes.title'\n      )} - Kitsu`\n    }\n  }\n}\n</script>\n"],"names":["_sfc_main","entityListMixin","ChevronDownIcon","ChevronRightIcon","StatsCell","TableInfo","mapGetters","entryId","columnId","getChartColors","dataType","getRetakeChartData","getChartData","takeNumber","evolutionStats","nbRetakes","nbDones","nbOthers","count","getChartRetakeCount","range","taskTypeId","route","section","episodeId","value","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_15","_hoisted_17","_openBlock","_createElementBlock","_createElementVNode","_cache","args","_ctx","_hoisted_4","_toDisplayString","_Fragment","_renderList","$props","_normalizeStyle","_createBlock","_component_router_link","$options","_withCtx","_createTextVNode","_createCommentVNode","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_stats_cell","entry","$event","$data","_component_chevron_right_icon","_component_chevron_down_icon","_hoisted_12","_component_table_info","_hoisted_14","_imports_0","_hoisted_16","_hoisted_18","ButtonSimple","Combobox","EpisodeStatsList","SearchField","mode","preferences","err","mapActions","event","searchQuery","scrollPosition","nameData","moment","name","stringHelpers","csv","fieldName","data","_component_search_field","_component_combobox","_component_button_simple","_component_episode_stats_list","e"],"mappings":"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"}