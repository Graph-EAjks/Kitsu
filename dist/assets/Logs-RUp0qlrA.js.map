{"version":3,"file":"Logs-RUp0qlrA.js","sources":["../../src/components/pages/logs/Events.vue","../../src/components/lists/PreviewFileList.vue","../../src/components/pages/logs/PreviewFiles.vue","../../src/components/pages/Logs.vue"],"sourcesContent":["<template>\n  <div class=\"mt1\">\n    <div class=\"flexrow\">\n      <date-field\n        class=\"flexrow-item\"\n        :can-delete=\"false\"\n        :max-date=\"today\"\n        :label=\"$t('logs.current_date_label')\"\n        v-model=\"currentDate\"\n      />\n      <button-simple\n        class=\"flexrow-item small\"\n        icon=\"refresh\"\n        @click=\"loadDayEvents\"\n      />\n      <span class=\"flexrow-item nb-events\">\n        {{ events.length }} {{ $t('logs.events') }}\n      </span>\n    </div>\n\n    <div class=\"mt2 empty\" v-if=\"!isLoading && events.length === 0\">\n      {{ $t('logs.empty_list') }}\n    </div>\n    <div class=\"has-text-centered\" v-if=\"isLoading\">\n      <spinner />\n    </div>\n    <div class=\"log-list\" v-else>\n      <div\n        class=\"mt05 event-line\"\n        :key=\"event.id\"\n        @click=\"selectLine(event)\"\n        v-for=\"event in events\"\n      >\n        <div>\n          <span class=\"date tag mr1\">{{ formatDate(event.created_at) }} </span>\n          <span\n            class=\"type tag\"\n            :title=\"event.name.split(':')[1]\"\n            :data-status=\"formatType(event)\"\n          >\n            {{ formatType(event) }}\n          </span>\n          <span class=\"name tag mr1\">{{ event.name.split(':')[0] }}</span>\n        </div>\n        <ul v-show=\"selectedEvents[event.id]\">\n          <li class=\"flexrow\">\n            <span class=\"key\">user</span>\n            <people-avatar\n              class=\"flexrow-item\"\n              :size=\"20\"\n              :person=\"personMap.get(event.user_id)\"\n              v-if=\"event.user_id\"\n            />\n            <people-name\n              class=\"flexrow-item\"\n              :person=\"personMap.get(event.user_id)\"\n              v-if=\"event.user_id\"\n            />\n          </li>\n          <li\n            class=\"variable\"\n            :key=\"event.id + '-' + key\"\n            v-for=\"key in Object.keys(event.data).sort()\"\n          >\n            <span class=\"key\">{{ key }}</span>\n            <a :href=\"getLink(event, key)\" v-if=\"isLink(key)\">\n              {{ event.data[key] }}\n            </a>\n            <span v-else>{{ event.data[key] }}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport moment from 'moment'\n\nimport { formatFullDateWithRevertedTimezone } from '@/lib/time'\nimport { timeMixin } from '@/components/mixins/time'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport DateField from '@/components/widgets/DateField.vue'\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar.vue'\nimport PeopleName from '@/components/widgets/PeopleName.vue'\nimport Spinner from '@/components/widgets/Spinner.vue'\n\nexport default {\n  name: 'events',\n\n  mixins: [timeMixin],\n\n  components: {\n    ButtonSimple,\n    DateField,\n    PeopleAvatar,\n    PeopleName,\n    Spinner\n  },\n\n  data() {\n    return {\n      currentDate: new Date(),\n      events: [],\n      isLoading: true,\n      selectedEvents: {}\n    }\n  },\n\n  mounted() {\n    this.loadDayEvents()\n  },\n\n  computed: {\n    ...mapGetters(['personMap', 'productionMap', 'user']),\n\n    today() {\n      return moment().toDate()\n    }\n  },\n\n  methods: {\n    ...mapActions(['loadEvents']),\n\n    formatType(event) {\n      return event.name.split(':')[1].substring(0, 3)\n    },\n\n    loadDayEvents() {\n      const before = moment(this.currentDate).add(1, 'days')\n      const after = moment(this.currentDate)\n      this.selectedEvents = {}\n      this.isLoading = true\n      this.loadEvents({\n        after: formatFullDateWithRevertedTimezone(after, this.timezone),\n        before: formatFullDateWithRevertedTimezone(before, this.timezone)\n      })\n        .then(events => {\n          this.isLoading = false\n          this.events = events\n        })\n        .catch(err => {\n          this.isLoading = false\n          console.error(err)\n        })\n    },\n\n    selectLine(event) {\n      this.selectedEvents[event.id] = !this.selectedEvents[event.id]\n    },\n\n    isLink(key) {\n      const linkKeys = ['project_id', 'task_id']\n      return linkKeys.includes(key)\n    },\n\n    getLink(event, key) {\n      const productionId = event.data.project_id\n      const entityType = key.substring(0, key.length - 3)\n      if (entityType === 'project') {\n        return `/productions/${productionId}/news-feed`\n      } else {\n        const entityId = event.data[key]\n        return `/productions/${productionId}/${entityType}s/${entityId}`\n      }\n    }\n  },\n\n  watch: {\n    currentDate() {\n      this.loadDayEvents()\n    }\n  },\n\n  head() {\n    return {\n      title: `${this.$t('logs.title')} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .tag {\n    color: $white;\n    background: $dark-grey;\n  }\n\n  .nb-events {\n    color: $white;\n  }\n}\n\n.empty {\n  color: var(--text);\n  font-style: italic;\n}\n\n.log-list {\n  margin-bottom: 2em;\n}\n\n.event-line {\n  cursor: pointer;\n\n  .tag {\n    border-radius: 4px;\n  }\n\n  .date {\n    font-weight: 500;\n  }\n\n  .type {\n    text-transform: uppercase;\n    min-width: 50px;\n  }\n\n  .type[data-status='new'] {\n    color: white;\n    background: $green;\n  }\n\n  .type[data-status='upd'] {\n    color: white;\n    background: $blue;\n  }\n\n  .type[data-status='add'] {\n    color: white;\n    background: $dark-purple;\n  }\n\n  .type[data-status='del'] {\n    color: white;\n    background: $red;\n  }\n\n  .type[data-status='sta'] {\n    color: white;\n    background: $pink;\n  }\n\n  .type[data-status='set'] {\n    background: $purple;\n  }\n\n  ul {\n    color: var(--text);\n    border-left: 3px solid $light-grey;\n    list-style-type: none;\n    margin: 1em 1em 2em 0.2em;\n    padding-left: 1em;\n\n    .key {\n      font-weight: 500;\n      width: 170px;\n      display: inline-block;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"data-list\">\n    <div style=\"overflow: hidden\">\n      <table class=\"datatable\" ref=\"headerWrapper\">\n        <thead class=\"datatable-head\">\n          <tr class=\"datatable-row-header\">\n            <th class=\"date\">\n              {{ $t('logs.preview_files.date') }}\n            </th>\n            <th class=\"production\">\n              {{ $t('logs.preview_files.production') }}\n            </th>\n            <th class=\"entity-name\">\n              {{ $t('logs.preview_files.entity_name') }}\n            </th>\n            <th class=\"task-type\">\n              {{ $t('logs.preview_files.task_type_id') }}\n            </th>\n            <th class=\"revision\">\n              {{ $t('logs.preview_files.revision') }}\n            </th>\n            <th class=\"status\">\n              {{ $t('logs.preview_files.status') }}\n            </th>\n            <th class=\"end-cell\"></th>\n          </tr>\n        </thead>\n      </table>\n    </div>\n\n    <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n    <div @scroll.passive=\"onBodyScroll\" v-if=\"previewFiles.length > 0\">\n      <table class=\"datatable\">\n        <tbody class=\"datatable-body\">\n          <tr\n            :key=\"previewFile.id\"\n            class=\"datatable-row\"\n            @click=\"event => redirectToTask(event, previewFile)\"\n            v-for=\"previewFile in previewFiles\"\n          >\n            <td class=\"date\">\n              {{ formatDate(previewFile.created_at) }}\n            </td>\n            <td class=\"production\">\n              <production-name-cell\n                :entry=\"productionMap.get(previewFile.project_id)\"\n              />\n            </td>\n            <td class=\"entity-name\">\n              {{ previewFile.full_entity_name }}\n            </td>\n            <task-type-cell\n              class=\"task-type\"\n              :task-type=\"taskTypeMap.get(previewFile.task_type_id)\"\n            />\n            <td class=\"revision\">\n              {{ previewFile.revision }}\n            </td>\n            <td class=\"status\" :data-status=\"previewFile.status\">\n              {{ previewFile.status }}\n            </td>\n            <td class=\"end-cell has-text-right\">\n              <button-simple\n                class=\"mark-broken-button\"\n                :text=\"$t('logs.preview_files.mark_broken')\"\n                @click=\"$emit('mark-broken-clicked', previewFile.id)\"\n                v-if=\"previewFile.status === 'processing'\"\n              />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { formatListMixin } from '@/components/mixins/format'\nimport { getTaskPath } from '@/lib/path'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\nimport ProductionNameCell from '@/components/cells/ProductionNameCell.vue'\nimport TaskTypeCell from '@/components/cells/TaskTypeCell.vue'\n\nexport default {\n  name: 'preview-file-list',\n\n  mixins: [formatListMixin],\n\n  components: {\n    ButtonSimple,\n    ProductionNameCell,\n    TableInfo,\n    TaskTypeCell\n  },\n\n  props: {\n    previewFiles: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['mark-broken-clicked'],\n\n  data() {\n    return {\n      currentTask: null\n    }\n  },\n\n  computed: {\n    ...mapGetters(['personMap', 'productionMap', 'taskTypeMap'])\n  },\n\n  methods: {\n    ...mapActions(['loadTask', 'markBroken']),\n\n    onBodyScroll(event) {\n      const position = event.target\n      this.$refs.headerWrapper.style.left = `-${position.scrollLeft}px`\n    },\n\n    async redirectToTask(event, previewFile) {\n      if (\n        event.target.parentNode.className === 'mark-broken-button button' ||\n        event.target.className === 'mark-broken-button button'\n      )\n        return\n      const task = await this.loadTask({ taskId: previewFile.task_id })\n      return this.$router.push(\n        getTaskPath(\n          task,\n          task.project,\n          task.project.production_type === 'tvshow',\n          task.episode,\n          this.taskTypeMap\n        )\n      )\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.date {\n  max-width: 150px;\n  width: 150px;\n}\n\n.production {\n  max-width: 300px;\n  width: 300px;\n}\n\n.entity-name {\n  max-width: 300px;\n  width: 300px;\n}\n\n.task-type {\n  max-width: 150px;\n  width: 150px;\n}\n\n.revision {\n  max-width: 80px;\n  width: 80px;\n}\n\n.status {\n}\n\n.avatar-wrapper {\n  margin-right: 0.5em;\n}\n\n.datatable-head {\n  th {\n    border: 0;\n  }\n}\n\ntr:first-child {\n  td:first-child {\n    border-top-left-radius: 10px;\n  }\n  td:last-child {\n    border-top-right-radius: 10px;\n  }\n}\n\ntr:last-child {\n  td:first-child {\n    border-bottom-left-radius: 10px;\n  }\n  td:last-child {\n    border-bottom-right-radius: 10px;\n  }\n}\n\ntr {\n  cursor: pointer;\n}\n\ntd.status {\n  text-transform: uppercase;\n  font-weight: 500;\n}\n\ntd.status[data-status='broken'] {\n  color: red;\n}\n\ntd.status[data-status='processing'] {\n}\n</style>\n","<template>\n  <div class=\"mt1\">\n    <p class=\"flexrow\">\n      <em class=\"flexrow-item\">{{ $t('logs.preview_files.explanation') }}</em>\n      <span class=\"filler\"></span>\n      <button-simple class=\"flexrow-item\" icon=\"refresh\" @click=\"reload\" />\n    </p>\n    <template v-if=\"previewFiles.length === 0 && !previewFilesLoading\">\n      <p class=\"empty\">{{ $t('logs.preview_files.empty_list') }}</p>\n    </template>\n    <template v-else>\n      <preview-file-list\n        :preview-files=\"previewFiles\"\n        :is-loading=\"previewFilesLoading\"\n        @mark-broken-clicked=\"markBrokenClicked\"\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\n\nimport { timeMixin } from '@/components/mixins/time'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport PreviewFileList from '@/components/lists/PreviewFileList.vue'\n\nexport default {\n  name: 'preview-files',\n\n  mixins: [timeMixin],\n\n  components: {\n    ButtonSimple,\n    PreviewFileList\n  },\n\n  data() {\n    return {\n      previewFilesLoading: true,\n      previewFiles: []\n    }\n  },\n\n  computed: {\n    ...mapGetters(['personMap', 'taskTypeMap', 'user']),\n\n    displayedPreviewFiles() {\n      return this.previewFiles.filter(\n        previewFile => previewFile.status !== 'ready'\n      )\n    }\n  },\n\n  methods: {\n    ...mapActions(['getRunningPreviewFiles', 'markPreviewFileAsBroken']),\n\n    async reload() {\n      this.previewFiles = []\n      this.previewFilesLoading = true\n      this.previewFiles = await this.getRunningPreviewFiles()\n      this.previewFilesLoading = false\n    },\n\n    async markBrokenClicked(previewFileId) {\n      const previewFile = this.previewFiles.find(p => p.id === previewFileId)\n      previewFile.status = 'broken'\n      await this.markPreviewFileAsBroken(previewFileId)\n    }\n  },\n\n  mounted() {\n    this.reload()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .tag {\n    color: $white;\n    background: $dark-grey;\n  }\n}\n.tag {\n  border-radius: 4px;\n}\n\nem {\n  color: var(--text);\n}\n\n.date {\n  font-weight: 500;\n}\n\n.status {\n  text-transform: uppercase;\n  min-width: 50px;\n}\n\n.status[data-status='broken'] {\n  color: white;\n  background: $dark-red;\n}\n\n.status[data-status='processing'] {\n  color: white;\n  background: $blue;\n}\n\n.empty {\n  color: var(--text);\n  font-size: 1.2em;\n  font-weight: 500;\n  text-align: center;\n  margin-top: 1em;\n}\n</style>\n","<template>\n  <div class=\"logs fixed-page\">\n    <div class=\"tabs logs-tabs\">\n      <ul>\n        <li :class=\"{ 'is-active': isActiveTab('events') }\">\n          <a @click=\"activeTab = 'events'\">\n            {{ $t('logs.title') }}\n          </a>\n        </li>\n        <li :class=\"{ 'is-active': isActiveTab('preview_files') }\">\n          <a @click=\"activeTab = 'preview_files'\">\n            {{ $t('logs.preview_files.title') }}\n          </a>\n        </li>\n      </ul>\n    </div>\n    <events v-if=\"isActiveTab('events')\" />\n    <preview-files v-if=\"isActiveTab('preview_files')\" />\n  </div>\n</template>\n\n<script>\nimport Events from '@/components/pages/logs/Events.vue'\nimport PreviewFiles from '@/components/pages/logs/PreviewFiles.vue'\n\nexport default {\n  name: 'logs',\n\n  components: {\n    Events,\n    PreviewFiles\n  },\n\n  data() {\n    return {\n      activeTab: 'events'\n    }\n  },\n\n  mounted() {\n    if (this.$route.query.tab) {\n      this.activeTab = this.$route.query.tab\n    }\n  },\n\n  methods: {\n    isActiveTab(tab) {\n      return this.activeTab === tab\n    }\n  },\n\n  watch: {\n    activeTab() {\n      if (this.$route.query.tab !== this.activeTab) {\n        this.$router.push({\n          query: {\n            tab: this.activeTab\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.fixed-page {\n  margin-top: 60px;\n  padding: 2em;\n  overflow: scroll;\n}\n\n.tabs.logs-tabs {\n  overflow: visible;\n  ul {\n    margin-left: 0;\n  }\n}\n</style>\n"],"names":["_sfc_main","timeMixin","ButtonSimple","DateField","PeopleAvatar","PeopleName","Spinner","mapGetters","moment","mapActions","event","before","after","formatFullDateWithRevertedTimezone","events","err","key","productionId","entityType","entityId","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_component_date_field","$options","_ctx","$data","_cache","$event","_component_button_simple","_toDisplayString","_hoisted_4","_createCommentVNode","_hoisted_5","_component_spinner","_hoisted_6","_Fragment","_renderList","_createBlock","_component_people_avatar","_component_people_name","_hoisted_14","formatListMixin","ProductionNameCell","TableInfo","TaskTypeCell","position","previewFile","task","getTaskPath","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_component_table_info","$props","args","_component_production_name_cell","_component_task_type_cell","PreviewFileList","previewFileId","p","_component_preview_file_list","Events","PreviewFiles","tab","_normalizeClass","_component_events","_component_preview_files"],"mappings":"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"}