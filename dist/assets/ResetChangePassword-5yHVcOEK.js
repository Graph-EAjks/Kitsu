import{_ as w,cp as C,b as k,cG as v,r as _,k as L,o as c,c as l,e as s,t as r,n as a,aZ as u,bj as f,f as h,p as S,d as y,$ as d,w as E}from"./index-ip1P4Oag.js";const P={name:"reset-change-password",components:{LockIcon:C},data(){return{password:"",password2:"",isLoading:!1,isError:!1,isFormError:!1,isSuccess:!1,secondsLeft:5}},mounted(){this.$store.commit("LOGIN_SUCCESS"),this.isLoading=!1,this.isError=!1,this.secondsLeft=5},methods:{...k(["resetChangePassword"]),confirmResetChangePassword(){this.isFormError=!1,this.isError=!1,v.isPasswordValid(this.password,this.password2)?(this.isLoading=!0,this.isSuccess=!1,this.resetChangePassword({email:this.$route.query.email,token:this.$route.query.token,password:this.password,password2:this.password2}).then(()=>{this.isLoading=!1,this.isSuccess=!0;const e=setInterval(()=>{this.secondsLeft--,this.secondsLeft===0&&(this.$router.push({name:"login"}),clearInterval(e))},1e3)}).catch(()=>{this.isLoading=!1,this.isError=!0,this.isSuccess=!1})):this.isFormError=!0}},head(){return{title:this.$t("login.reset_change_password_title")}}},b={class:"hero is-fullheight"},R={class:"container has-text-centered"},V={class:"box has-text-left"},I={class:"has-text-centered"},F={class:"title"},N={class:"field mt2"},z={class:"control has-icon"},B=["placeholder"],D={class:"icon"},K={class:"control has-icon"},U=["placeholder"],q={class:"icon"},G={class:"control"},$={class:"has-text-centered"},j={key:0},x={key:1};function A(e,t,M,O,o,n){const p=_("lock-icon"),m=_("router-link"),g=L("focus");return c(),l("div",b,[s("div",R,[s("div",V,[s("div",I,[s("h1",F,r(e.$t("login.reset_change_password_title")),1)]),s("div",N,[s("p",z,[a(s("input",{class:"input is-medium email",type:"password",placeholder:e.$t("login.fields.password"),onKeyup:t[0]||(t[0]=f((...i)=>n.confirmResetChangePassword&&n.confirmResetChangePassword(...i),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=i=>o.password=i)},null,40,B),[[u,o.password],[g]]),s("span",D,[h(p,{size:20})])]),s("p",K,[a(s("input",{class:"input is-medium email",type:"password",placeholder:e.$t("login.fields.password2"),onKeyup:t[2]||(t[2]=f((...i)=>n.confirmResetChangePassword&&n.confirmResetChangePassword(...i),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=i=>o.password2=i)},null,40,U),[[u,o.password2]]),s("span",q,[h(p,{size:20})])])]),s("p",G,[o.isSuccess?y("",!0):(c(),l("a",{key:0,class:S({"main-button":!0,"is-fullwidth":!0,"is-loading":o.isLoading}),onClick:t[4]||(t[4]=(...i)=>n.confirmResetChangePassword&&n.confirmResetChangePassword(...i))},r(e.$t("login.reset_change_password")),3))]),a(s("p",{class:"error"},r(e.$t("login.reset_change_password_form_failed")),513),[[d,o.isFormError]]),a(s("p",{class:"error"},r(e.$t("login.reset_change_password_failed")),513),[[d,o.isError]]),a(s("p",{class:"success"},r(e.$t("login.reset_change_password_succeed")),513),[[d,o.isSuccess]]),a(s("p",{class:"has-text-centered mt2 mb2"},r(e.$t("login.redirecting",{secondsLeft:o.secondsLeft})),513),[[d,o.isSuccess]]),s("p",$,[h(m,{to:{name:"login"}},{default:E(()=>[o.isSuccess?(c(),l("span",j,r(e.$t("login.back_to_login")),1)):(c(),l("span",x,r(e.$t("login.login_page")),1))]),_:1})])])])])}const Z=w(P,[["render",A],["__scopeId","data-v-052b2c4b"]]);export{Z as default};
//# sourceMappingURL=ResetChangePassword-5yHVcOEK.js.map
