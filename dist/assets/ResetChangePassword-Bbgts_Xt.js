import{_ as w,m as C,cN as v,r as _,j as k,c,o as l,e as s,l as a,t as r,b2 as u,bq as f,f as h,d as L,n as S,$ as d,w as y,cR as E}from"./index-BAzFID02.js";const P={name:"reset-change-password",components:{LockIcon:v},data(){return{password:"",password2:"",isLoading:!1,isError:!1,isFormError:!1,isSuccess:!1,secondsLeft:5}},mounted(){this.$store.commit("LOGIN_SUCCESS"),this.isLoading=!1,this.isError=!1,this.secondsLeft=5},methods:{...C(["resetChangePassword"]),confirmResetChangePassword(){this.isFormError=!1,this.isError=!1,E.isPasswordValid(this.password,this.password2)?(this.isLoading=!0,this.isSuccess=!1,this.resetChangePassword({email:this.$route.query.email,token:this.$route.query.token,password:this.password,password2:this.password2}).then(()=>{this.isLoading=!1,this.isSuccess=!0;const e=setInterval(()=>{this.secondsLeft--,this.secondsLeft===0&&(this.$router.push({name:"login"}),clearInterval(e))},1e3)}).catch(()=>{this.isLoading=!1,this.isError=!0,this.isSuccess=!1})):this.isFormError=!0}},head(){return{title:this.$t("login.reset_change_password_title")}}},R={class:"hero is-fullheight"},b={class:"container has-text-centered"},V={class:"box has-text-left"},I={class:"has-text-centered"},N={class:"title"},F={class:"field mt2"},q={class:"control has-icon"},z=["placeholder"],B={class:"icon"},D={class:"control has-icon"},K=["placeholder"],U={class:"icon"},$={class:"control"},j={class:"has-text-centered"},x={key:0},A={key:1};function G(e,t,M,O,o,n){const p=_("lock-icon"),m=_("router-link"),g=k("focus");return l(),c("div",R,[s("div",b,[s("div",V,[s("div",I,[s("h1",N,r(e.$t("login.reset_change_password_title")),1)]),s("div",F,[s("p",q,[a(s("input",{class:"input is-medium email",type:"password",placeholder:e.$t("login.fields.password"),onKeyup:t[0]||(t[0]=f((...i)=>n.confirmResetChangePassword&&n.confirmResetChangePassword(...i),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=i=>o.password=i)},null,40,z),[[u,o.password],[g]]),s("span",B,[h(p,{size:20})])]),s("p",D,[a(s("input",{class:"input is-medium email",type:"password",placeholder:e.$t("login.fields.password2"),onKeyup:t[2]||(t[2]=f((...i)=>n.confirmResetChangePassword&&n.confirmResetChangePassword(...i),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=i=>o.password2=i)},null,40,K),[[u,o.password2]]),s("span",U,[h(p,{size:20})])])]),s("p",$,[o.isSuccess?L("",!0):(l(),c("a",{key:0,class:S({"main-button":!0,"is-fullwidth":!0,"is-loading":o.isLoading}),onClick:t[4]||(t[4]=(...i)=>n.confirmResetChangePassword&&n.confirmResetChangePassword(...i))},r(e.$t("login.reset_change_password")),3))]),a(s("p",{class:"error"},r(e.$t("login.reset_change_password_form_failed")),513),[[d,o.isFormError]]),a(s("p",{class:"error"},r(e.$t("login.reset_change_password_failed")),513),[[d,o.isError]]),a(s("p",{class:"success"},r(e.$t("login.reset_change_password_succeed")),513),[[d,o.isSuccess]]),a(s("p",{class:"has-text-centered mt2 mb2"},r(e.$t("login.redirecting",{secondsLeft:o.secondsLeft})),513),[[d,o.isSuccess]]),s("p",j,[h(m,{to:{name:"login"}},{default:y(()=>[o.isSuccess?(l(),c("span",x,r(e.$t("login.back_to_login")),1)):(l(),c("span",A,r(e.$t("login.login_page")),1))]),_:1})])])])])}const H=w(P,[["render",G],["__scopeId","data-v-052b2c4b"]]);export{H as default};
//# sourceMappingURL=ResetChangePassword-Bbgts_Xt.js.map
