{"version":3,"file":"Sequences-COcsODbD.js","sources":["../../src/components/lists/SequenceList.vue","../../src/components/pages/Sequences.vue"],"sourcesContent":["<template>\n  <div class=\"data-list\">\n    <div class=\"datatable-wrapper\" ref=\"body\" @scroll.passive=\"onBodyScroll\">\n      <table-header-menu\n        ref=\"headerMenu\"\n        :is-minimized=\"hiddenColumns[lastHeaderMenuDisplayed]\"\n        :is-edit-allowed=\"isCurrentUserManager\"\n        :is-sticked=\"stickedColumns[lastHeaderMenuDisplayed]\"\n        @minimize-clicked=\"onMinimizeColumnToggled()\"\n        @delete-all-clicked=\"onDeleteAllTasksClicked()\"\n        @sort-by-clicked=\"onSortByTaskTypeClicked()\"\n        @select-column=\"onSelectColumn('sequence')\"\n        @toggle-stick=\"stickColumnClicked()\"\n      />\n\n      <table-metadata-header-menu\n        ref=\"headerMetadataMenu\"\n        :is-edit-allowed=\"isCurrentUserManager\"\n        :is-sticked=\"stickedColumns[lastMetadaDataHeaderMenuDisplayed]\"\n        @edit-clicked=\"onEditMetadataClicked()\"\n        @delete-clicked=\"onDeleteMetadataClicked()\"\n        @sort-by-clicked=\"onSortByMetadataClicked()\"\n        @toggle-stick=\"metadataStickColumnClicked($event)\"\n      />\n\n      <table class=\"datatable\">\n        <thead\n          class=\"datatable-head\"\n          id=\"datatable-sequence\"\n          v-columns-resizable\n        >\n          <tr>\n            <th\n              scope=\"col\"\n              class=\"name sequence-name datatable-row-header\"\n              ref=\"th-sequence\"\n            >\n              <div class=\"flexrow\">\n                <span class=\"flexrow-item\">\n                  {{ $t('sequences.fields.name') }}\n                </span>\n                <button-simple\n                  class=\"is-small flexrow-item\"\n                  icon=\"plus\"\n                  :text=\"''\"\n                  @click=\"onAddMetadataClicked\"\n                  v-if=\"\n                    (isCurrentUserManager || isCurrentUserSupervisor) &&\n                    !isLoading\n                  \"\n                />\n              </div>\n            </th>\n            <template v-if=\"isShowInfos\">\n              <metadata-header\n                :ref=\"`editor-${j}`\"\n                :key=\"descriptor.id\"\n                :descriptor=\"descriptor\"\n                :left=\"\n                  offsets['editor-' + j] ? `${offsets['editor-' + j]}px` : '0'\n                \"\n                is-stick\n                :style=\"{\n                  'z-index': 1001\n                }\"\n                @show-metadata-header-menu=\"\n                  event => showMetadataHeaderMenu(descriptor.id, event)\n                \"\n                v-for=\"(descriptor, j) in stickedVisibleMetadataDescriptors\"\n              />\n            </template>\n            <validation-header\n              :ref=\"`validation-${columnIndexInGrid}`\"\n              :key=\"columnId\"\n              :hidden-columns=\"hiddenColumns\"\n              :column-id=\"columnId\"\n              :validation-style=\"getValidationStyle(columnId)\"\n              :left=\"\n                offsets['validation-' + columnIndexInGrid]\n                  ? `${offsets['validation-' + columnIndexInGrid]}px`\n                  : '0'\n              \"\n              type=\"editor\"\n              is-stick\n              @show-header-menu=\"\n                event => showHeaderMenu(columnId, columnIndexInGrid, event)\n              \"\n              v-for=\"(\n                columnId, columnIndexInGrid\n              ) in stickedDisplayedValidationColumns\"\n            />\n\n            <th\n              scope=\"col\"\n              class=\"description selectable\"\n              v-if=\"\n                !isCurrentUserClient && isShowInfos && isSequenceDescription\n              \"\n            >\n              {{ $t('sequences.fields.description') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"resolution\"\n              v-if=\"isSequenceResolution && isShowInfos\"\n            >\n              {{ $t('shots.fields.resolution') }}\n            </th>\n\n            <template v-if=\"isShowInfos\">\n              <metadata-header\n                :key=\"descriptor.id\"\n                :descriptor=\"descriptor\"\n                @show-metadata-header-menu=\"\n                  event => showMetadataHeaderMenu(descriptor.id, event)\n                \"\n                v-for=\"descriptor in nonStickedVisibleMetadataDescriptors\"\n              />\n            </template>\n            <th\n              scope=\"col\"\n              class=\"time-spent\"\n              ref=\"th-spent\"\n              v-if=\"\n                !isCurrentUserClient &&\n                isShowInfos &&\n                isSequenceTime &&\n                metadataDisplayHeaders.timeSpent\n              \"\n            >\n              {{ $t('sequences.fields.time_spent') }}\n            </th>\n            <th\n              scope=\"col\"\n              class=\"estimation\"\n              :title=\"$t('main.estimation')\"\n              ref=\"th-spent\"\n              v-if=\"\n                !isCurrentUserClient &&\n                isShowInfos &&\n                isSequenceEstimation &&\n                metadataDisplayHeaders.estimation\n              \"\n            >\n              {{ $t('main.estimation_short') }}\n            </th>\n\n            <template v-if=\"!isLoading\">\n              <validation-header\n                :key=\"columnId\"\n                :hidden-columns=\"hiddenColumns\"\n                :column-id=\"columnId\"\n                :validation-style=\"getValidationStyle(columnId)\"\n                type=\"sequences\"\n                @show-header-menu=\"\n                  event => {\n                    showHeaderMenu(columnId, columnIndexInGrid, event)\n                  }\n                \"\n                v-for=\"(\n                  columnId, columnIndexInGrid\n                ) in nonStickedDisplayedValidationColumns\"\n              />\n            </template>\n            <th scope=\"col\" class=\"actions\" ref=\"actionsSection\">\n              <button-simple\n                :class=\"{\n                  'is-small': true,\n                  highlighted: isEmptyTask\n                }\"\n                icon=\"plus\"\n                :text=\"$t('tasks.create_tasks')\"\n                @click=\"$emit('create-tasks')\"\n                v-if=\"\n                  isCurrentUserManager &&\n                  displayedSequences.length > 0 &&\n                  !isLoading\n                \"\n              />\n\n              <table-metadata-selector-menu\n                :descriptors=\"sequenceMetadataDescriptors\"\n                :exclude=\"{\n                  timeSpent: !isSequenceTime,\n                  estimation: !isSequenceEstimation\n                }\"\n                namespace=\"sequences\"\n                v-model=\"metadataDisplayHeaders\"\n                v-show=\"columnSelectorDisplayed\"\n                v-if=\"isShowInfos\"\n              />\n\n              <button-simple\n                class=\"is-small is-pulled-right mr05\"\n                icon=\"down\"\n                @click=\"toggleColumnSelector\"\n                v-if=\"sequenceMetadataDescriptors.length > 0 && isShowInfos\"\n              />\n            </th>\n          </tr>\n        </thead>\n        <tbody class=\"datatable-body\">\n          <template v-if=\"!isLoading && isListVisible\">\n            <tr\n              class=\"datatable-row\"\n              scope=\"row\"\n              :key=\"sequence.id\"\n              :class=\"{ canceled: sequence.canceled }\"\n              v-for=\"(sequence, i) in displayedSequences\"\n            >\n              <th\n                :class=\"{\n                  'datatable-row-header': true,\n                  'sequence-name': true,\n                  name: true,\n                  strong: !sequence.canceled\n                }\"\n              >\n                <div class=\"flexrow\">\n                  <entity-thumbnail\n                    :entity=\"sequence\"\n                    :width=\"isBigThumbnails ? 150 : 50\"\n                    :height=\"isBigThumbnails ? 100 : 33\"\n                    :empty-width=\"isBigThumbnails ? 150 : 50\"\n                    :empty-height=\"isBigThumbnails ? 100 : 34\"\n                  />\n                  <router-link\n                    tabindex=\"-1\"\n                    :title=\"sequence.name\"\n                    :to=\"sequencePath(sequence.id)\"\n                  >\n                    {{ sequence.name }}\n                  </router-link>\n                </div>\n              </th>\n\n              <!-- Metadata stick -->\n              <template v-if=\"isShowInfos && !isLoading\">\n                <td\n                  :ref=\"`editor-${i}-${j}`\"\n                  class=\"metadata-descriptor datatable-row-header\"\n                  :title=\"\n                    sequence.data ? sequence.data[descriptor.field_name] : ''\n                  \"\n                  :style=\"{\n                    'z-index': 1000 - i, // Need for combo to be above the next cell\n                    left: offsets['editor-' + j]\n                      ? `${offsets['editor-' + j]}px`\n                      : '0'\n                  }\"\n                  :key=\"sequence.id + '-' + descriptor.id\"\n                  v-for=\"(descriptor, j) in stickedVisibleMetadataDescriptors\"\n                >\n                  <metadata-input\n                    :entity=\"sequence\"\n                    :descriptor=\"descriptor\"\n                    @metadata-changed=\"$emit('metadata-changed', $event)\"\n                    :indexes=\"{ i, j }\"\n                  />\n                </td>\n              </template>\n\n              <template v-if=\"!isLoading\">\n                <validation-cell\n                  :ref=\"`validation-${i}-${j}`\"\n                  :key=\"columnId + '-' + sequence.id\"\n                  :class=\"{\n                    'validation-cell': !hiddenColumns[columnId],\n                    'hidden-validation-cell': hiddenColumns[columnId],\n                    'datatable-row-header': true\n                  }\"\n                  :contact-sheet=\"contactSheetMode\"\n                  :column=\"taskTypeMap.get(columnId)\"\n                  :column-y=\"j\"\n                  :entity=\"sequence\"\n                  :is-assignees=\"isShowAssignations\"\n                  :is-static=\"true\"\n                  :left=\"\n                    offsets['validation-' + j]\n                      ? `${offsets['validation-' + j]}px`\n                      : '0'\n                  \"\n                  :minimized=\"hiddenColumns[columnId]\"\n                  :row-x=\"i\"\n                  :selected=\"isSelected(i, j)\"\n                  :sticked=\"true\"\n                  :task-test=\"taskMap.get(sequence.validations.get(columnId))\"\n                  @select=\"infos => onTaskSelected(infos, true)\"\n                  @unselect=\"infos => onTaskUnselected(infos, true)\"\n                  v-for=\"(columnId, j) in stickedDisplayedValidationColumns\"\n                />\n              </template>\n\n              <description-cell\n                class=\"description\"\n                :entry=\"sequence\"\n                :editable=\"isCurrentUserManager\"\n                @description-changed=\"\n                  value => onDescriptionChanged(sequence, value)\n                \"\n                v-if=\"\n                  !isCurrentUserClient && isShowInfos && isSequenceDescription\n                \"\n              />\n\n              <td class=\"resolution\" v-if=\"isSequenceResolution && isShowInfos\">\n                <input\n                  :class=\"{\n                    'input-editor': true,\n                    error: !isValidResolution(sequence)\n                  }\"\n                  :value=\"\n                    getMetadataFieldValue(\n                      { field_name: 'resolution' },\n                      sequence\n                    )\n                  \"\n                  @input=\"\n                    event =>\n                      onMetadataFieldChanged(\n                        sequence,\n                        { field_name: 'resolution' },\n                        event\n                      )\n                  \"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength + 3)\n                  \"\n                  v-if=\"isCurrentUserManager\"\n                />\n\n                <span class=\"metadata-value selectable\" v-else>\n                  {{\n                    getMetadataFieldValue(\n                      { field_name: 'resolution' },\n                      sequence\n                    )\n                  }}\n                </span>\n              </td>\n\n              <!-- other Metadata cells -->\n              <template v-if=\"isShowInfos\">\n                <td\n                  class=\"metadata-descriptor\"\n                  :title=\"\n                    sequence.data ? sequence.data[descriptor.field_name] : ''\n                  \"\n                  :key=\"sequence.id + '-' + descriptor.id\"\n                  v-for=\"(\n                    descriptor, j\n                  ) in nonStickedVisibleMetadataDescriptors\"\n                >\n                  <metadata-input\n                    :entity=\"sequence\"\n                    :descriptor=\"descriptor\"\n                    :indexes=\"{ i, j }\"\n                    @metadata-changed=\"$emit('metadata-changed', $event)\"\n                  />\n                </td>\n              </template>\n\n              <td\n                class=\"time-spent selectable\"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  isShowInfos &&\n                  isSequenceTime &&\n                  metadataDisplayHeaders.timeSpent\n                \"\n              >\n                {{ formatDuration(sequence.timeSpent) }}\n              </td>\n\n              <td\n                class=\"estimation selectable\"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  isShowInfos &&\n                  isSequenceEstimation &&\n                  metadataDisplayHeaders.estimation\n                \"\n              >\n                {{ formatDuration(sequence.estimation) }}\n              </td>\n\n              <template v-if=\"!isLoading\">\n                <validation-cell\n                  :ref=\"`validation-${i}-${\n                    j + stickedDisplayedValidationColumns.length\n                  }`\"\n                  :class=\"{\n                    'validation-cell': !hiddenColumns[columnId],\n                    'hidden-validation-cell': hiddenColumns[columnId]\n                  }\"\n                  :contact-sheet=\"contactSheetMode\"\n                  :key=\"`${columnId}-${sequence.id}`\"\n                  :column=\"taskTypeMap.get(columnId)\"\n                  :entity=\"sequence\"\n                  :task-test=\"\n                    taskMap.get(\n                      sequence.validations\n                        ? sequence.validations.get(columnId)\n                        : null\n                    )\n                  \"\n                  :minimized=\"hiddenColumns[columnId]\"\n                  :selected=\"\n                    isSelected(i, j + stickedDisplayedValidationColumns.length)\n                  \"\n                  :row-x=\"i\"\n                  :column-y=\"j\"\n                  :is-assignees=\"isShowAssignations\"\n                  @select=\"onTaskSelected\"\n                  @unselect=\"onTaskUnselected\"\n                  v-for=\"(columnId, j) in nonStickedDisplayedValidationColumns\"\n                />\n              </template>\n              <row-actions-cell\n                :entry=\"sequence\"\n                @delete-clicked=\"$emit('delete-clicked', sequence)\"\n                @edit-clicked=\"$emit('edit-clicked', sequence)\"\n                v-if=\"isCurrentUserManager\"\n              />\n              <td class=\"actions\" v-else></td>\n            </tr>\n          </template>\n        </tbody>\n      </table>\n    </div>\n\n    <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n    <div\n      class=\"has-text-centered\"\n      v-if=\"isEmptyList && !isCurrentUserClient && !isLoading\"\n    >\n      <p class=\"info\">\n        <img src=\"../../assets/illustrations/empty_shot.png\" />\n      </p>\n      <p class=\"info\">{{ $t('sequences.empty_list_client') }}</p>\n    </div>\n\n    <p class=\"has-text-centered nb-sequences\" v-if=\"!isEmptyList && !isLoading\">\n      {{ displayedSequencesLength }}\n      {{ $tc('sequences.number', displayedSequencesLength) }}\n      <span\n        v-if=\"\n          displayedSequencesTimeSpent > 0 && displayedSequencesEstimation > 0\n        \"\n      >\n        ({{ formatDuration(displayedSequencesTimeSpent) }}\n        {{ $tc('main.days_spent', displayedSequencesTimeSpent) }},\n        {{ formatDuration(displayedSequencesEstimation) }}\n        {{ $tc('main.man_days', displayedSequencesEstimation) }})\n      </span>\n    </p>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { getEntityPath } from '@/lib/path'\nimport { descriptorMixin } from '@/components/mixins/descriptors'\nimport { domMixin } from '@/components/mixins/dom'\nimport { entityListMixin } from '@/components/mixins/entity_list'\nimport { formatListMixin } from '@/components/mixins/format'\nimport { selectionListMixin } from '@/components/mixins/selection'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport DescriptionCell from '@/components/cells/DescriptionCell.vue'\nimport EntityThumbnail from '@/components/widgets/EntityThumbnail.vue'\nimport MetadataHeader from '@/components/cells/MetadataHeader.vue'\nimport MetadataInput from '@/components/cells/MetadataInput.vue'\nimport RowActionsCell from '@/components/cells/RowActionsCell.vue'\nimport TableMetadataHeaderMenu from '@/components/widgets/TableMetadataHeaderMenu.vue'\nimport TableMetadataSelectorMenu from '@/components/widgets/TableMetadataSelectorMenu.vue'\nimport TableHeaderMenu from '@/components/widgets/TableHeaderMenu.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\nimport ValidationCell from '@/components/cells/ValidationCell.vue'\nimport ValidationHeader from '@/components/cells/ValidationHeader.vue'\n\nexport default {\n  name: 'sequence-list',\n\n  mixins: [\n    descriptorMixin,\n    domMixin,\n    formatListMixin,\n    entityListMixin,\n    selectionListMixin\n  ],\n\n  props: {\n    contactSheetMode: {\n      type: Boolean,\n      default: false\n    },\n    displayedSequences: {\n      type: Array,\n      default: () => []\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    validationColumns: {\n      type: Array,\n      default: () => []\n    },\n    departmentFilter: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  emits: ['create-tasks', 'delete-clicked', 'edit-clicked', 'metadata-changed'],\n\n  data() {\n    return {\n      type: 'sequence',\n      hiddenColumns: {},\n      lastHeaderMenuDisplayed: null,\n      lastMetadaDataHeaderMenuDisplayed: null,\n      lastHeaderMenuDisplayedIndexInGrid: null,\n      lastSelectedSequence: null,\n      lastSelection: null,\n      metadataDisplayHeaders: {\n        estimation: true,\n        timeSpent: true\n      },\n      offsets: {},\n      stickedColumns: {}\n    }\n  },\n\n  components: {\n    ButtonSimple,\n    DescriptionCell,\n    EntityThumbnail,\n    MetadataHeader,\n    MetadataInput,\n    RowActionsCell,\n    TableHeaderMenu,\n    TableMetadataHeaderMenu,\n    TableMetadataSelectorMenu,\n    TableInfo,\n    ValidationCell,\n    ValidationHeader\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'currentSequence',\n      'displayedSequencesEstimation',\n      'displayedSequencesLength',\n      'displayedSequencesTimeSpent',\n      'isBigThumbnails',\n      'isCurrentUserAdmin',\n      'isCurrentUserManager',\n      'isCurrentUserSupervisor',\n      'isCurrentUserClient',\n      'isSingleSequence',\n      'isSequenceDescription',\n      'isSequenceEstimation',\n      'isSequenceResolution',\n      'isSequenceTime',\n      'isShowAssignations',\n      'isShowInfos',\n      'nbSelectedTasks',\n      'selectedTasks',\n      'sequenceMap',\n      'sequenceFilledColumns',\n      'sequenceMetadataDescriptors',\n      'sequences',\n      'sequenceSearchText',\n      'sequenceSelectionGrid',\n      'sequences',\n      'taskMap',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    isEmptyList() {\n      return (\n        this.displayedSequences &&\n        this.displayedSequences.length === 0 &&\n        !this.isLoading &&\n        !this.isError &&\n        (!this.sequenceSearchText || this.sequenceSearchText.length === 0)\n      )\n    },\n\n    isListVisible() {\n      return (\n        !this.isLoading && !this.isError && this.displayedSequencesLength > 0\n      )\n    },\n\n    visibleColumns() {\n      let count = 2\n      count +=\n        !this.isCurrentUserClient &&\n        this.isShowInfos &&\n        this.isSequenceDescription\n          ? 1\n          : 0\n      count += this.visibleMetadataDescriptors.length\n      count +=\n        !this.isCurrentUserClient &&\n        this.isShowInfos &&\n        this.isSequenceTime &&\n        this.metadataDisplayHeaders.timeSpent\n          ? 1\n          : 0\n      count +=\n        !this.isCurrentUserClient &&\n        this.isShowInfos &&\n        this.isSequenceEstimation &&\n        this.metadataDisplayHeaders.estimation\n          ? 1\n          : 0\n      count += this.displayedValidationColumns.length\n      return count\n    },\n\n    displayedValidationColumns() {\n      return this.validationColumns.filter(columnId => {\n        return (\n          this.sequenceFilledColumns[columnId] &&\n          (!this.hiddenColumns[columnId] || this.isShowInfos)\n        )\n      })\n    },\n\n    metadataDescriptors() {\n      return this.sequenceMetadataDescriptors\n    },\n\n    localStorageStickKey() {\n      return `stick-sequences-${this.currentProduction.id}`\n    }\n  },\n\n  methods: {\n    ...mapActions(['setSequenceSelection']),\n\n    isSelected(lineIndex, columnIndex) {\n      return (\n        this.sequenceSelectionGrid[lineIndex] &&\n        this.sequenceSelectionGrid[lineIndex][columnIndex]\n      )\n    },\n\n    sequencePath(sequenceId) {\n      return this.getPath('sequence', sequenceId)\n    },\n\n    getPath(section, sequenceId) {\n      const productionId = this.currentProduction.id\n      const episodeId = this.currentEpisode ? this.currentEpisode.id : null\n      return getEntityPath(sequenceId, productionId, section, episodeId)\n    }\n  },\n\n  watch: {\n    displayedSequences() {\n      this.$options.lineIndex = {}\n    },\n\n    validationColumns() {\n      this.initHiddenColumns(this.validationColumns, this.hiddenColumns)\n    },\n\n    stickedColumns() {\n      this.updateOffsets()\n    },\n\n    isLoading() {\n      this.updateOffsets()\n    },\n\n    isBigThumbnails() {\n      this.updateOffsets()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  th .input-editor,\n  td .select select,\n  td .input-editor {\n    color: $white;\n\n    option {\n      background: $dark-grey-light;\n      color: $white;\n    }\n\n    &:focus,\n    &:active,\n    &:hover {\n      background: $dark-grey-light;\n    }\n  }\n}\n\n.datatable-wrapper {\n  min-height: 40px;\n}\n\n.actions {\n  min-width: 160px;\n  position: sticky;\n}\n\nth.actions {\n  padding: 0.4em;\n}\n\n.name {\n  min-width: 100px;\n  width: 100px;\n}\n\n.name a {\n  color: inherit;\n}\n\n.name.sequence-name {\n  min-width: 110px;\n  width: 110px;\n}\n\n.description {\n  min-width: 200px;\n  max-width: 200px;\n  width: 200px;\n}\n\n.validation-cell {\n  min-width: 150px;\n  max-width: 150px;\n  width: 150px;\n}\n\n.estimation,\n.time-spent {\n  min-width: 70px;\n  max-width: 70px;\n  width: 70px;\n}\n\ntd.resolution {\n  min-width: 110px;\n  max-width: 110px;\n  width: 110px;\n}\n\ntd.name {\n  font-size: 1.2em;\n}\n\nspan.thumbnail-empty {\n  display: block;\n  width: 50px;\n  height: 30px;\n  background: #f3f3f3;\n}\n\n.info {\n  margin-top: 2em;\n}\n\n.info img {\n  max-width: 80vh;\n}\n\n.datatable-row th.name {\n  font-size: 1.1em;\n  padding: 6px;\n}\n\n.datatable-row-header {\n  cursor: pointer;\n}\n\nth .input-editor,\ntd .input-editor {\n  color: $grey-strong;\n  height: 100%;\n  padding: 0.5rem;\n  width: 100%;\n  background: transparent;\n  border: 1px solid transparent;\n  z-index: 100;\n\n  &:active,\n  &:focus,\n  &:hover {\n    background: transparent;\n    background: white;\n  }\n\n  &:active,\n  &:focus {\n    border: 1px solid $green;\n  }\n\n  &:hover {\n    border: 1px solid $light-green;\n  }\n\n  &:invalid {\n    color: $red;\n  }\n}\n\ninput[type='number']::-webkit-outer-spin-button,\ninput[type='number']::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type='number'] {\n  -moz-appearance: textfield;\n}\n\n// Metadata cell CSS\n\ntd.metadata-descriptor {\n  height: 3.1rem;\n  max-width: 120px;\n  padding: 0;\n}\n\ntd .select {\n  color: $grey-strong;\n  margin: 0;\n  height: 100%;\n  width: 100%;\n  border: 1px solid transparent;\n\n  &::after {\n    border-color: transparent;\n  }\n\n  &:active,\n  &:focus,\n  &:hover {\n    &::after {\n      border-color: $green;\n    }\n  }\n\n  select {\n    color: $grey-strong;\n    height: 100%;\n    width: 100%;\n    background: transparent;\n    border-radius: 0;\n    border: 1px solid transparent;\n\n    &:focus {\n      border: 1px solid $green;\n      background: white;\n    }\n\n    &:hover {\n      background: transparent;\n      background: white;\n      border: 1px solid $light-green;\n    }\n  }\n}\n\n.metadata-value {\n  padding: 0.8rem;\n}\n</style>\n","<template>\n  <div class=\"columns fixed-page\">\n    <div class=\"column main-column\">\n      <div class=\"sequences page\">\n        <div class=\"sequence-list-header page-header\">\n          <div class=\"flexrow\">\n            <search-field\n              ref=\"sequence-search-field\"\n              :can-save=\"true\"\n              @change=\"onSearchChange\"\n              @save=\"saveSearchQuery\"\n              placeholder=\"ex: e01 sequence=wip\"\n            />\n            <button-simple\n              class=\"flexrow-item\"\n              :title=\"$t('entities.build_filter.title')\"\n              icon=\"filter\"\n              @click=\"() => (modals.isBuildFilterDisplayed = true)\"\n            />\n            <div class=\"filler\"></div>\n            <div class=\"flexrow flexrow-item\" v-if=\"!isCurrentUserClient\">\n              <combobox-department\n                class=\"combobox-department flexrow-item\"\n                :selectable-departments=\"selectableDepartments('Sequence')\"\n                :display-all-and-my-departments=\"true\"\n                rounded\n                v-model=\"selectedDepartment\"\n                v-if=\"departments.length > 0\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                icon=\"grid\"\n                :is-on=\"contactSheetMode\"\n                :title=\"$t('tasks.show_contact_sheet')\"\n                @click=\"contactSheetMode = !contactSheetMode\"\n              />\n              <show-assignations-button class=\"flexrow-item\" />\n              <show-infos-button class=\"flexrow-item\" />\n              <big-thumbnails-button class=\"flexrow-item\" />\n            </div>\n            <div class=\"flexrow\" v-if=\"isCurrentUserManager\">\n              <button-simple\n                class=\"flexrow-item\"\n                :text=\"$t('sequences.new_sequence')\"\n                icon=\"plus\"\n                @click=\"showNewModal\"\n              />\n            </div>\n          </div>\n\n          <div class=\"query-list mt1\">\n            <search-query-list\n              :queries=\"sequenceSearchQueries\"\n              type=\"sequence\"\n              @remove-search=\"removeSearchQuery\"\n              v-if=\"!isSequencesLoading && !initialLoading\"\n            />\n          </div>\n        </div>\n\n        <sorting-info\n          :sorting=\"sequenceSorting\"\n          @clear-sorting=\"onChangeSortClicked(null)\"\n          v-if=\"sequenceSorting?.length\"\n        />\n        <sequence-list\n          ref=\"sequence-list\"\n          :contact-sheet-mode=\"contactSheetMode\"\n          :displayed-sequences=\"displayedSequences\"\n          :is-loading=\"isSequencesLoading || initialLoading\"\n          :is-error=\"isSequencesLoadingError\"\n          :validation-columns=\"sequenceValidationColumns\"\n          :department-filter=\"departmentFilter\"\n          @add-metadata=\"onAddMetadataClicked\"\n          @change-sort=\"onChangeSortClicked\"\n          @create-tasks=\"showCreateTasksModal\"\n          @delete-all-tasks=\"onDeleteAllTasksClicked\"\n          @delete-clicked=\"onDeleteClicked\"\n          @delete-metadata=\"onDeleteMetadataClicked\"\n          @edit-clicked=\"onEditClicked\"\n          @edit-metadata=\"onEditMetadataClicked\"\n          @field-changed=\"onFieldChanged\"\n          @metadata-changed=\"onMetadataChanged\"\n          @scroll=\"saveScrollPosition\"\n          @keep-task-panel-open=\"onKeepTaskPanelOpenChanged\"\n        />\n      </div>\n    </div>\n\n    <div\n      id=\"side-column\"\n      class=\"column side-column\"\n      v-show=\"isTaskSidePanelOpen\"\n    >\n      <task-info\n        :task=\"selectedTasks.values().next().value\"\n        entity-type=\"Sequence\"\n        with-actions\n      />\n    </div>\n\n    <delete-modal\n      ref=\"delete-sequence-modal\"\n      :active=\"modals.isDeleteDisplayed\"\n      :is-loading=\"loading.del\"\n      :is-error=\"errors.del\"\n      :text=\"deleteText()\"\n      :error-text=\"$t('sequences.delete_error')\"\n      @cancel=\"modals.isDeleteDisplayed = false\"\n      @confirm=\"confirmDeleteSequence\"\n    />\n\n    <delete-modal\n      ref=\"delete-metadata-modal\"\n      :active=\"modals.isDeleteMetadataDisplayed\"\n      :is-loading=\"loading.deleteMetadata\"\n      :is-error=\"errors.deleteMetadata\"\n      :text=\"$t('productions.metadata.delete_text')\"\n      :error-text=\"$t('productions.metadata.delete_error')\"\n      @cancel=\"modals.isDeleteMetadataDisplayed = false\"\n      @confirm=\"confirmDeleteMetadata\"\n    />\n\n    <hard-delete-modal\n      ref=\"delete-all-tasks-modal\"\n      :active=\"modals.isDeleteAllTasksDisplayed\"\n      :is-loading=\"loading.deleteAllTasks\"\n      :is-error=\"errors.deleteAllTasks\"\n      :text=\"deleteAllTasksText()\"\n      :error-text=\"$t('tasks.delete_all_error')\"\n      :lock-text=\"deleteAllTasksLockText\"\n      :selection-option=\"true\"\n      @cancel=\"modals.isDeleteAllTasksDisplayed = false\"\n      @confirm=\"confirmDeleteAllTasks\"\n    />\n\n    <create-tasks-modal\n      :active=\"modals.isCreateTasksDisplayed\"\n      :is-loading=\"loading.creatingTasks\"\n      :is-loading-stay=\"loading.creatingTasksStay\"\n      :is-error=\"errors.creatingTasks\"\n      :title=\"$t('tasks.create_tasks_sequence')\"\n      :text=\"$t('tasks.create_tasks_sequence_explaination')\"\n      :error-text=\"$t('tasks.create_tasks_sequence_failed')\"\n      @cancel=\"hideCreateTasksModal\"\n      @confirm=\"confirmCreateTasks\"\n      @confirm-and-stay=\"confirmCreateTasksAndStay\"\n    />\n\n    <add-metadata-modal\n      :active=\"modals.isAddMetadataDisplayed\"\n      :is-loading=\"loading.addMetadata\"\n      :is-error=\"errors.addMetadata\"\n      :descriptor-to-edit=\"descriptorToEdit\"\n      entity-type=\"Sequence\"\n      @cancel=\"closeMetadataModal\"\n      @confirm=\"confirmAddMetadata\"\n    />\n\n    <add-thumbnails-modal\n      ref=\"add-thumbnails-modal\"\n      entity-type=\"Sequence\"\n      parent=\"sequences\"\n      :active=\"modals.isAddThumbnailsDisplayed\"\n      :is-loading=\"loading.addThumbnails\"\n      :is-error=\"errors.addThumbnails\"\n      @cancel=\"hideAddThumbnailsModal\"\n      @confirm=\"confirmAddThumbnails\"\n      v-if=\"false\"\n    />\n\n    <build-filter-modal\n      ref=\"build-filter-modal\"\n      :active=\"modals.isBuildFilterDisplayed\"\n      entity-type=\"sequence\"\n      @cancel=\"modals.isBuildFilterDisplayed = false\"\n      @confirm=\"confirmBuildFilter\"\n    />\n\n    <edit-sequence-modal\n      :active=\"modals.isNewDisplayed\"\n      :is-loading=\"loading.edit\"\n      :is-error=\"errors.edit\"\n      :sequence-to-edit=\"sequenceToEdit\"\n      @cancel=\"modals.isNewDisplayed = false\"\n      @confirm=\"confirmEditSequence\"\n    />\n\n    <hard-delete-modal\n      :active=\"modals.isDeleteDisplayed\"\n      :is-loading=\"loading.del\"\n      :is-error=\"errors.del\"\n      :text=\"deleteText()\"\n      :error-text=\"$t('sequences.delete_error')\"\n      :lock-text=\"sequenceToDelete ? sequenceToDelete.name : ''\"\n      @cancel=\"modals.isDeleteDisplayed = false\"\n      @confirm=\"confirmDeleteSequence\"\n    />\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport { mapGetters, mapActions } from 'vuex'\nimport csv from '@/lib/csv'\nimport { sortByName } from '@/lib/sorting'\nimport stringHelpers from '@/lib/string'\n\nimport { searchMixin } from '@/components/mixins/search'\nimport { entitiesMixin } from '@/components/mixins/entities'\n\nimport AddMetadataModal from '@/components/modals/AddMetadataModal.vue'\nimport AddThumbnailsModal from '@/components/modals/AddThumbnailsModal.vue'\nimport BigThumbnailsButton from '@/components/widgets/BigThumbnailsButton.vue'\nimport BuildFilterModal from '@/components/modals/BuildFilterModal.vue'\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport ComboboxDepartment from '@/components/widgets/ComboboxDepartment.vue'\nimport CreateTasksModal from '@/components/modals/CreateTasksModal.vue'\nimport DeleteModal from '@/components/modals/DeleteModal.vue'\nimport EditSequenceModal from '@/components/modals/EditSequenceModal.vue'\nimport SequenceList from '@/components/lists/SequenceList.vue'\nimport HardDeleteModal from '@/components/modals/HardDeleteModal.vue'\nimport SearchField from '@/components/widgets/SearchField.vue'\nimport SearchQueryList from '@/components/widgets/SearchQueryList.vue'\nimport SortingInfo from '@/components/widgets/SortingInfo.vue'\nimport ShowAssignationsButton from '@/components/widgets/ShowAssignationsButton.vue'\nimport ShowInfosButton from '@/components/widgets/ShowInfosButton.vue'\nimport TaskInfo from '@/components/sides/TaskInfo.vue'\n\nexport default {\n  name: 'sequences',\n\n  mixins: [searchMixin, entitiesMixin],\n\n  components: {\n    AddMetadataModal,\n    AddThumbnailsModal,\n    BigThumbnailsButton,\n    BuildFilterModal,\n    ButtonSimple,\n    ComboboxDepartment,\n    CreateTasksModal,\n    DeleteModal,\n    EditSequenceModal,\n    SequenceList,\n    HardDeleteModal,\n    SearchField,\n    SearchQueryList,\n    SortingInfo,\n    ShowAssignationsButton,\n    ShowInfosButton,\n    TaskInfo\n  },\n\n  data() {\n    return {\n      type: 'sequence',\n      contactSheetMode: false,\n      deleteAllTasksLockText: null,\n      descriptorToEdit: {},\n      departmentFilter: [],\n      sequenceToDelete: null,\n      sequenceToEdit: null,\n      formData: null,\n      genericColumns: [\n        'Metadata column name (text value)',\n        'Task type name (task status name value)',\n        'Task type name + comment (text value)'\n      ],\n      historyEdit: {},\n      initialLoading: true,\n      optionalColumns: ['Description'],\n      pageName: 'Sequences',\n      parsedCSV: [],\n      selectedDepartment: 'ALL',\n      taskTypeForTaskDeletion: null,\n      modals: {\n        isAddMetadataDisplayed: false,\n        isAddThumbnailsDisplayed: false,\n        isBuildFilterDisplayed: false,\n        isCreateTasksDisplayed: false,\n        isDeleteDisplayed: false,\n        isDeleteMetadataDisplayed: false,\n        isDeleteAllTasksDisplayed: false,\n        isImportRenderDisplayed: false,\n        isImportDisplayed: false,\n        isNewDisplayed: false\n      },\n      loading: {\n        addMetadata: false,\n        addThumbnails: false,\n        creatingTasks: false,\n        creatingTasksStay: false,\n        del: false,\n        deleteAllTasks: false,\n        deleteMetadata: false,\n        edit: false,\n        importing: false,\n        savingSearch: false,\n        sequence: false,\n        stay: false\n      },\n      errors: {\n        addMetadata: false,\n        creatingTasks: false,\n        deleteAllTasks: false,\n        deleteMetadata: false,\n        edit: false,\n        importing: false,\n        importingError: null\n      }\n    }\n  },\n\n  beforeUnmount() {\n    this.clearSelectedSequences()\n  },\n\n  created() {\n    this.setLastProductionScreen('sequences')\n  },\n\n  mounted() {\n    this.$refs['sequence-list'].setScrollPosition(\n      this.sequenceListScrollPosition\n    )\n    this.$refs['sequence-list'].setScrollPosition(\n      this.sequenceListScrollPosition\n    )\n    if (!this.isCurrentUserManager && this.user.departments.length > 0) {\n      this.selectedDepartment = 'MY_DEPARTMENTS'\n      this.departmentFilter = this.user.departments\n    } else {\n      this.departmentFilter = []\n    }\n\n    const finalize = () => {\n      this.initialLoading = false\n      if (this.$refs['sequence-list']) {\n        this.$refs['sequence-list'].setScrollPosition(\n          this.sequenceListScrollPosition\n        )\n        this.$refs['sequence-list'].selectTaskFromQuery()\n\n        setTimeout(() => {\n          this.applySearchFromUrl()\n        }, 200)\n      }\n    }\n\n    if (\n      this.sequenceMap.size < 1 ||\n      this.sequenceValidationColumns.length === 0 ||\n      this.sequenceMap.values().next().project_id !== this.currentProduction.id\n    ) {\n      this.loadSequencesWithTasks()\n        .then(() => {\n          this.initialLoading = false\n          finalize()\n        })\n        .catch(console.error)\n    } else {\n      if (!this.isSequencesLoading) this.initialLoading = false\n      finalize()\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'currentSection',\n      'displayedSequences',\n      'departmentMap',\n      'departments',\n      'sequenceMap',\n      'sequences',\n      'sequenceSearchQueries',\n      'isCurrentUserClient',\n      'isCurrentUserManager',\n      'isSequenceDescription',\n      'isSequenceEstimation',\n      'isSequenceTime',\n      'isSequencesLoading',\n      'isSequencesLoadingError',\n      'isShowAssignations',\n      'isTVShow',\n      'openProductions',\n      'productionSequenceTaskTypes',\n      'sequenceMap',\n      'sequenceFilledColumns',\n      'sequenceSearchText',\n      'sequenceValidationColumns',\n      'sequenceListScrollPosition',\n      'sequenceSorting',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    searchField() {\n      return this.$refs['sequence-search-field']\n    },\n\n    renderColumns() {\n      const collection = [...this.dataMatchers, ...this.optionalColumns]\n\n      this.productionSequenceTaskTypes.forEach(item => {\n        collection.push(item.name)\n        collection.push(`${item.name} comment`)\n      })\n      return collection\n    },\n\n    filteredSequences() {\n      const sequences = {}\n      this.displayedSequences.forEach(sequence => {\n        const sequenceKey = sequence.name\n        sequences[sequenceKey] = true\n      })\n      return sequences\n    },\n\n    metadataDescriptors() {\n      return this.sequenceMetadataDescriptors\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addMetadataDescriptor',\n      'createTasks',\n      'changeSequenceSort',\n      'clearSelectedSequences',\n      'commentTaskWithPreview',\n      'deleteAllTasks',\n      'deleteSequence',\n      'deleteMetadataDescriptor',\n      'editSequence',\n      'getSequencesCsvLines',\n      'hideAssignations',\n      'loadSequencesWithTasks',\n      'newSequence',\n      'removeSequenceSearch',\n      'saveSequenceSearch',\n      'setLastProductionScreen',\n      'setPreview',\n      'setSequenceSearch',\n      'showAssignations',\n      'uploadSequenceFile'\n    ]),\n\n    confirmAddMetadata(form) {\n      this.loading.addMetadata = true\n      form.entity_type = 'Sequence'\n      this.addMetadataDescriptor(form)\n        .then(() => {\n          this.loading.addMetadata = false\n          this.modals.isAddMetadataDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.addMetadata = false\n          this.errors.addMetadata = true\n        })\n    },\n\n    showNewModal() {\n      this.sequenceToEdit = {}\n      this.modals.isNewDisplayed = true\n    },\n\n    confirmDeleteSequence() {\n      this.loading.del = true\n      this.errors.del = false\n      this.deleteSequence(this.sequenceToDelete)\n        .then(() => {\n          this.loading.del = false\n          this.modals.isDeleteDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.del = false\n          this.errors.del = true\n        })\n    },\n\n    runTasksCreation(form, selectionOnly) {\n      this.errors.creatingTasks = false\n      return this.createTasks({\n        type: 'sequences',\n        task_type_id: form.task_type_id,\n        project_id: this.currentProduction.id,\n        selectionOnly\n      })\n    },\n\n    reset() {\n      this.initialLoading = false\n      this.loadSequencesWithTasks(err => {\n        if (err) console.error(err)\n        this.applySearchFromUrl()\n        this.initialLoading = false\n      })\n    },\n\n    resetEditModal() {\n      const form = { name: '' }\n      if (this.openProductions.length > 0) {\n        form.production_id = this.openProductions[0].id\n      }\n      this.sequenceToEdit = form\n    },\n\n    saveSearchQuery(searchQuery) {\n      if (this.loading.savingSearch) {\n        return\n      }\n      this.loading.savingSearch = true\n      this.saveSequenceSearch(searchQuery)\n        .catch(console.error)\n        .finally(() => {\n          this.loading.savingSearch = false\n        })\n    },\n\n    removeSearchQuery(searchQuery) {\n      this.removeSequenceSearch(searchQuery).catch(console.error)\n    },\n\n    onExportClick() {\n      this.getSequencesCsvLines().then(sequenceLines => {\n        const nameData = [\n          moment().format('YYYY-MM-DD'),\n          'kitsu',\n          this.currentProduction.name,\n          this.$t('sequences.title')\n        ]\n        const name = stringHelpers.slugify(nameData.join('_'))\n        const headers = [\n          this.$t('sequences.fields.name'),\n          this.$t('sequences.fields.description')\n        ]\n        if (this.currentSequence) {\n          headers.splice(0, 0, 'Sequence')\n        }\n        sortByName([...this.currentProduction.descriptors])\n          .filter(d => d.entity_type === 'Sequence')\n          .forEach(descriptor => {\n            headers.push(descriptor.name)\n          })\n        if (this.isSequenceTime) {\n          headers.push(this.$t('sequences.fields.time_spent'))\n        }\n        if (this.isSequenceEstimation) {\n          headers.push(this.$t('main.estimation_short'))\n        }\n        this.sequenceValidationColumns.forEach(taskTypeId => {\n          headers.push(this.taskTypeMap.get(taskTypeId).name)\n          headers.push('Assignations')\n        })\n        csv.buildCsvFile(name, [headers].concat(sequenceLines))\n      })\n    },\n\n    async onFieldChanged({ entry, fieldName, value }) {\n      const data = {\n        id: entry.id,\n        [fieldName]: value\n      }\n      await this.editSequence(data)\n      this.applySearchFromUrl()\n    },\n\n    async onMetadataChanged({ entry, descriptor, value }) {\n      const data = {\n        id: entry.id,\n        data: {\n          [descriptor.field_name]: value\n        }\n      }\n      await this.editSequence(data)\n      this.applySearchFromUrl()\n    },\n\n    onEditClicked(sequence) {\n      this.sequenceToEdit = sequence\n      this.modals.isNewDisplayed = true\n    },\n\n    onDeleteClicked(sequence) {\n      this.sequenceToDelete = sequence\n      this.modals.isDeleteDisplayed = true\n    },\n\n    confirmEditSequence(form) {\n      this.loading.edit = true\n      this.errors.edit = false\n      if (form.id) {\n        this.editSequence(form)\n          .then(() => {\n            this.loading.edit = false\n            this.modals.isNewDisplayed = false\n            this.applySearchFromUrl()\n          })\n          .catch(err => {\n            console.error(err)\n            this.loading.edit = false\n            this.errors.edit = true\n          })\n      } else {\n        form.project_id = this.currentProduction.id\n        if (this.currentEpisode) {\n          form.episode_id = this.currentEpisode.id\n        }\n        this.newSequence(form)\n          .then(() => {\n            this.loading.edit = false\n            this.modals.isNewDisplayed = false\n          })\n          .catch(err => {\n            console.error(err)\n            this.loading.edit = false\n            this.errors.edit = true\n          })\n      }\n    },\n\n    deleteText() {\n      const sequence = this.sequenceToDelete\n      if (sequence) {\n        return this.$t('sequences.delete_text', { name: sequence.name })\n      }\n      return ''\n    }\n  },\n\n  watch: {\n    currentProduction() {\n      this.$refs['sequence-search-field'].setValue('')\n      this.$store.commit('SET_SEQUENCE_LIST_SCROLL_POSITION', 0)\n      this.initialLoading = false\n      this.reset()\n    },\n\n    currentEpisode() {\n      this.$refs['sequence-search-field'].setValue('')\n      this.$store.commit('SET_SEQUENCE_LIST_SCROLL_POSITION', 0)\n      this.initialLoading = false\n      this.reset()\n    },\n\n    currentSection() {\n      if (\n        (this.isTVShow && this.displayedSequences.length === 0) ||\n        this.displayedSequences[0]?.episode_id !== this.currentEpisode?.id\n      ) {\n        this.$refs['sequence-search-field'].setValue('')\n        this.$store.commit('SET_SEQUENCE_LIST_SCROLL_POSITION', 0)\n        this.initialLoading = false\n        this.reset()\n      }\n    },\n\n    isSequencesLoading() {\n      if (!this.isSequencesLoading) {\n        this.initialLoading = false\n        if (this.$refs['sequence-list']) {\n          this.$refs['sequence-list'].setScrollPosition(\n            this.sequenceListScrollPosition\n          )\n        }\n      }\n    }\n  },\n\n  head() {\n    if (this.isTVShow) {\n      return {\n        title:\n          `${this.currentProduction?.name || ''}` +\n          ` - ${this.currentEpisode?.name || ''}` +\n          ` | ${this.$t('sequences.title')} - Kitsu`\n      }\n    }\n    return {\n      title: `${this.currentProduction.name} | ${this.$t('sequences.title')} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.data-list {\n  margin-top: 0;\n}\n\n.page-header {\n  margin-bottom: 1em;\n}\n\n.flexcolumn {\n  align-items: flex-start;\n}\n\n.sequences {\n  display: flex;\n  flex-direction: column;\n}\n\n.columns {\n  display: flex;\n  flex-direction: row;\n  padding: 0;\n}\n\n.column {\n  overflow-y: auto;\n  padding: 0;\n}\n</style>\n"],"names":["_sfc_main","descriptorMixin","domMixin","formatListMixin","entityListMixin","selectionListMixin","ButtonSimple","DescriptionCell","EntityThumbnail","MetadataHeader","MetadataInput","RowActionsCell","TableHeaderMenu","TableMetadataHeaderMenu","TableMetadataSelectorMenu","TableInfo","ValidationCell","ValidationHeader","mapGetters","count","columnId","mapActions","lineIndex","columnIndex","sequenceId","section","productionId","episodeId","getEntityPath","_hoisted_1","_hoisted_2","_hoisted_5","_hoisted_6","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_17","_hoisted_22","_openBlock","_createElementBlock","_createElementVNode","_cache","args","_ctx","_createVNode","_component_table_header_menu","$data","_component_table_metadata_header_menu","$event","_withDirectives","_hoisted_3","_hoisted_4","_toDisplayString","$props","_createBlock","_component_button_simple","_createCommentVNode","_Fragment","_renderList","descriptor","j","_component_metadata_header","event","columnIndexInGrid","_component_validation_header","_hoisted_7","_hoisted_8","_hoisted_10","_normalizeClass","_component_table_metadata_selector_menu","$options","sequence","i","_component_entity_thumbnail","_component_router_link","_withCtx","_createTextVNode","_normalizeStyle","_component_metadata_input","_component_validation_cell","infos","_component_description_cell","value","_hoisted_14","_withModifiers","_hoisted_16","_hoisted_18","_hoisted_19","_component_row_actions_cell","_hoisted_20","_component_table_info","_hoisted_21","_imports_0","_hoisted_23","_hoisted_24","searchMixin","entitiesMixin","AddMetadataModal","AddThumbnailsModal","BigThumbnailsButton","BuildFilterModal","ComboboxDepartment","CreateTasksModal","DeleteModal","EditSequenceModal","SequenceList","HardDeleteModal","SearchField","SearchQueryList","SortingInfo","ShowAssignationsButton","ShowInfosButton","TaskInfo","finalize","collection","item","sequences","sequenceKey","form","err","selectionOnly","searchQuery","sequenceLines","nameData","moment","name","stringHelpers","headers","sortByName","d","taskTypeId","csv","entry","fieldName","data","_component_search_field","_component_combobox_department","_component_show_assignations_button","_component_show_infos_button","_component_big_thumbnails_button","_component_search_query_list","_component_sorting_info","_component_sequence_list","_component_task_info","_component_delete_modal","_component_hard_delete_modal","_component_create_tasks_modal","_component_add_metadata_modal","_component_build_filter_modal","_component_edit_sequence_modal"],"mappings":"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"}