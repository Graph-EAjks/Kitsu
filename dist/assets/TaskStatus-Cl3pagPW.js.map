{"version":3,"file":"TaskStatus-Cl3pagPW.js","sources":["../../src/components/modals/EditTaskStatusModal.vue","../../src/components/lists/TaskStatusList.vue","../../src/components/pages/TaskStatus.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box\">\n        <h1 class=\"title\" v-if=\"isEditing\">\n          {{ $t('task_status.edit_title') }} {{ taskStatusToEdit.name }}\n        </h1>\n        <h1 class=\"title\" v-else>\n          {{ $t('task_status.new_task_status') }}\n        </h1>\n\n        <form @submit.prevent>\n          <text-field\n            ref=\"nameField\"\n            input-class=\"task-status-name\"\n            :label=\"$t('task_status.fields.name')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.name\"\n            v-focus\n            v-if=\"taskStatusToEdit.short_name !== 'todo'\"\n          />\n          <text-field\n            ref=\"shortNameField\"\n            input-class=\"task-status-short-name\"\n            :label=\"$t('task_status.fields.short_name')\"\n            :maxlength=\"8\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.short_name\"\n            v-if=\"taskStatusToEdit.short_name !== 'todo'\"\n          />\n          <textarea-field\n            input-class=\"task-status-description\"\n            :label=\"$t('task_status.fields.description')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.description\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_default')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_default\"\n            :disabled=\"form.for_concept === 'true'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_done')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_done\"\n            v-if=\"form.is_default === 'false'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_retake')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_retake\"\n            v-if=\"form.is_default === 'false'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_artist_allowed')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_artist_allowed\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_client_allowed')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_client_allowed\"\n            v-if=\"form.for_concept !== 'true'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_feedback_request')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_feedback_request\"\n            v-if=\"form.is_default === 'false'\"\n          />\n          <color-field\n            class=\"mt2\"\n            :colors=\"colors\"\n            :column=\"5\"\n            :label=\"$t('task_status.fields.color')\"\n            v-model=\"form.color\"\n            v-if=\"taskStatusToEdit.short_name !== 'todo'\"\n          />\n          <combobox-boolean\n            :label=\"$t('main.archived')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.archived\"\n            v-if=\"isEditing\"\n          />\n        </form>\n\n        <modal-footer\n          :error-text=\"$t('task_status.create_error')\"\n          :is-error=\"isError\"\n          :is-loading=\"isLoading\"\n          @confirm=\"confirmClicked\"\n          @cancel=\"$emit('cancel')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport BooleanField from '@/components/widgets/BooleanField.vue'\nimport ColorField from '@/components/widgets/ColorField.vue'\nimport ComboboxBoolean from '@/components/widgets/ComboboxBoolean.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\nimport TextField from '@/components/widgets/TextField.vue'\nimport TextareaField from '@/components/widgets/TextareaField.vue'\n\nexport default {\n  name: 'edit-task-status-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    BooleanField,\n    ColorField,\n    ComboboxBoolean,\n    ModalFooter,\n    TextField,\n    TextareaField\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    taskStatusToEdit: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      form: {\n        name: '',\n        short_name: '',\n        description: '',\n        color: '#999999',\n        is_done: 'false',\n        is_feedback_request: 'false',\n        is_default: 'false',\n        archived: 'false'\n      },\n      colors: [\n        '#999999',\n        '#CCCCCC',\n        '#F5F5F5',\n        '#CC9999',\n        '#FF3860',\n        '#E81123',\n        '#E74C3C',\n        '#FF5722',\n        '#FF7043',\n        '#FFA000',\n        '#FBC02D',\n        '#AFB42B',\n        '#8BC34A',\n        '#66BB6A',\n        '#22D160',\n        '#4DB6AC',\n        '#03A9F4',\n        '#3273DC',\n        '#3498DB',\n        '#2980B9',\n        '#607D8B',\n        '#8764B8',\n        '#AB26FF',\n        '#E040FB',\n        '#FF80AB'\n      ]\n    }\n  },\n\n  computed: {\n    isEditing() {\n      return this.taskStatusToEdit && this.taskStatusToEdit.id\n    }\n  },\n\n  methods: {\n    confirmClicked() {\n      this.$emit('confirm', this.form)\n    },\n\n    resetForm() {\n      if (this.taskStatusToEdit) {\n        this.form = {\n          name: this.taskStatusToEdit.name,\n          short_name: this.taskStatusToEdit.short_name,\n          description: this.taskStatusToEdit.description,\n          color: this.taskStatusToEdit.color,\n          is_done: String(this.taskStatusToEdit.is_done),\n          is_retake: String(this.taskStatusToEdit.is_retake || false),\n          is_artist_allowed: String(this.taskStatusToEdit.is_artist_allowed),\n          is_client_allowed: String(this.taskStatusToEdit.is_client_allowed),\n          is_default: String(this.taskStatusToEdit.is_default || false),\n          is_feedback_request: String(\n            this.taskStatusToEdit.is_feedback_request || false\n          ),\n          for_concept: String(this.taskStatusToEdit.for_concept || false),\n          archived: String(this.taskStatusToEdit.archived || false)\n        }\n      }\n    }\n  },\n\n  watch: {\n    taskStatusToEdit() {\n      this.resetForm()\n    },\n\n    active() {\n      if (this.active) {\n        this.resetForm()\n        setTimeout(() => {\n          this.$refs.nameField?.focus()\n        }, 100)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-content .box p.text {\n  margin-bottom: 1em;\n}\n</style>\n","<template>\n  <div class=\"data-list\">\n    <div class=\"datatable-wrapper\">\n      <table class=\"datatable\">\n        <thead class=\"datatable-head\">\n          <tr>\n            <th scope=\"col\" class=\"name\">\n              {{ $t('task_status.fields.name') }}\n            </th>\n            <th scope=\"col\" class=\"short-name\">\n              {{ $t('task_status.fields.short_name') }}\n            </th>\n            <th scope=\"col\" class=\"is-default\">\n              {{ $t('task_status.fields.is_default') }}\n            </th>\n            <th scope=\"col\" class=\"is-done\">\n              {{ $t('task_status.fields.is_done') }}\n            </th>\n            <th scope=\"col\" class=\"is-retake\">\n              {{ $t('task_status.fields.is_retake') }}\n            </th>\n            <th scope=\"col\" class=\"is-artist-allowed\">\n              {{ $t('task_status.fields.is_artist_allowed') }}\n            </th>\n            <th scope=\"col\" class=\"is-client-allowed\">\n              {{ $t('task_status.fields.is_client_allowed') }}\n            </th>\n            <th scope=\"col\" class=\"is-feedback-request\">\n              {{ $t('task_status.fields.is_feedback_request') }}\n            </th>\n            <th scope=\"col\" class=\"actions\"></th>\n          </tr>\n        </thead>\n        <draggable\n          class=\"datatable-body\"\n          item-key=\"id\"\n          tag=\"tbody\"\n          @end=\"updateTaskStatusPriorities\"\n          v-model=\"taskStatuses\"\n        >\n          <template #item=\"{ element: taskStatus }\">\n            <tr class=\"datatable-row task-status\">\n              <td class=\"name\">\n                {{ taskStatus.name }}\n                <span\n                  :title=\"taskStatus.description\"\n                  v-if=\"taskStatus.description\"\n                >\n                  <help-circle-icon class=\"icon is-small\" />\n                </span>\n              </td>\n              <task-status-cell class=\"short-name\" :entry=\"taskStatus\" />\n              <boolean-cell class=\"is-default\" :value=\"taskStatus.is_default\" />\n              <boolean-cell class=\"is-done\" :value=\"taskStatus.is_done\" />\n              <boolean-cell class=\"is-retake\" :value=\"taskStatus.is_retake\" />\n              <boolean-cell\n                class=\"is-artist-allowed\"\n                :value=\"taskStatus.is_artist_allowed\"\n              />\n              <boolean-cell\n                class=\"is-client-allowed\"\n                :value=\"taskStatus.is_client_allowed\"\n              />\n              <boolean-cell\n                class=\"is-feedback-request\"\n                :value=\"taskStatus.is_feedback_request\"\n              />\n              <row-actions-cell\n                :entry-id=\"taskStatus.id\"\n                :hide-delete=\"\n                  taskStatus.is_default === true || taskStatus.for_concept\n                \"\n                @edit-clicked=\"$emit('edit-clicked', taskStatus)\"\n                @delete-clicked=\"$emit('delete-clicked', taskStatus)\"\n              />\n            </tr>\n          </template>\n        </draggable>\n      </table>\n    </div>\n\n    <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n    <p class=\"has-text-centered nb-task-status\">\n      {{ entries.length }} {{ $tc('task_status.number', entries.length) }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport { HelpCircleIcon } from 'lucide-vue-next'\nimport draggable from 'vuedraggable'\n\nimport { formatListMixin } from '@/components/mixins/format'\n\nimport BooleanCell from '@/components/cells/BooleanCell.vue'\nimport RowActionsCell from '@/components/cells/RowActionsCell.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\nimport TaskStatusCell from '@/components/cells/TaskStatusCell.vue'\n\nexport default {\n  name: 'task-status-list',\n\n  mixins: [formatListMixin],\n\n  components: {\n    BooleanCell,\n    draggable,\n    HelpCircleIcon,\n    RowActionsCell,\n    TableInfo,\n    TaskStatusCell\n  },\n\n  props: {\n    entries: {\n      type: Array,\n      default: () => []\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['delete-clicked', 'edit-clicked', 'update-priorities'],\n\n  data() {\n    return {\n      taskStatuses: []\n    }\n  },\n\n  mounted() {\n    this.taskStatuses = this.entries\n  },\n\n  computed: {},\n\n  methods: {\n    async updateTaskStatusPriorities() {\n      const taskStatusPriorities = this.taskStatuses.map(\n        (taskStatus, index) => ({\n          id: taskStatus.id,\n          priority: index + 1\n        })\n      )\n      this.$emit('update-priorities', taskStatusPriorities)\n    }\n  },\n\n  watch: {\n    entries() {\n      this.taskStatuses = this.entries\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.datatable-body tr:first-child th,\n.datatable-body tr:first-child td {\n  border-top: 0;\n}\n\n.name {\n  width: 200px;\n  min-width: 200px;\n}\n\n.short-name {\n  width: 150px;\n  min-width: 150px;\n}\n\n.is-done,\n.is-default,\n.is-retake,\n.is-artist-allowed,\n.is-client-allowed,\n.is-feedback-request {\n  text-align: center;\n  width: 140px;\n  min-width: 140px;\n}\n\n.task-status {\n  cursor: grab;\n}\n\n.task-status[draggable='true'] {\n  cursor: grabbing;\n}\n</style>\n","<template>\n  <div class=\"task-status page fixed-page\">\n    <list-page-header\n      :title=\"$t('task_status.title')\"\n      :new-entry-label=\"$t('task_status.new_task_status')\"\n      :is-exportable=\"isActiveTab\"\n      @export-clicked=\"onExportClicked\"\n      @new-clicked=\"onNewClicked\"\n    />\n\n    <route-tabs class=\"mt2\" :active-tab=\"activeTab\" :tabs=\"tabs\" />\n\n    <div class=\"column\">\n      <h2>\n        {{ $t('task_status.title_entities') }}\n        <span class=\"help-tooltip\" :title=\"$t('task_status.help.entities')\">\n          <help-circle-icon class=\"icon is-small\" />\n        </span>\n      </h2>\n      <task-status-list\n        :entries=\"taskStatusList\"\n        :is-loading=\"loading.list\"\n        :is-error=\"errors.list\"\n        @edit-clicked=\"onEditClicked\"\n        @delete-clicked=\"onDeleteClicked\"\n        @update-priorities=\"updatePriorities\"\n      />\n      <h2>{{ $t('task_status.title_concepts') }}</h2>\n      <task-status-list\n        :entries=\"conceptStatusList\"\n        :is-loading=\"loading.list\"\n        :is-error=\"errors.list\"\n        @edit-clicked=\"onEditClicked\"\n        @delete-clicked=\"onDeleteClicked\"\n        @update-priorities=\"updatePriorities\"\n      />\n    </div>\n\n    <edit-task-status-modal\n      :active=\"modals.edit\"\n      :is-loading=\"loading.edit\"\n      :is-error=\"errors.edit\"\n      :task-status-to-edit=\"taskStatusToEdit\"\n      @cancel=\"modals.edit = false\"\n      @confirm=\"confirmEditTaskStatus\"\n    />\n\n    <delete-modal\n      :active=\"modals.del\"\n      :is-loading=\"loading.del\"\n      :is-error=\"errors.del\"\n      :text=\"deleteText()\"\n      :error-text=\"$t('task_status.delete_error')\"\n      @cancel=\"modals.del = false\"\n      @confirm=\"confirmDeleteTaskStatus\"\n    />\n  </div>\n</template>\n\n<script>\nimport { HelpCircleIcon } from 'lucide-vue-next'\nimport { mapGetters, mapActions } from 'vuex'\n\nimport csv from '@/lib/csv'\nimport stringHelpers from '@/lib/string'\n\nimport DeleteModal from '@/components/modals/DeleteModal.vue'\nimport EditTaskStatusModal from '@/components/modals/EditTaskStatusModal.vue'\nimport ListPageHeader from '@/components/widgets/ListPageHeader.vue'\nimport RouteTabs from '@/components/widgets/RouteTabs.vue'\nimport TaskStatusList from '@/components/lists/TaskStatusList.vue'\n\nexport default {\n  name: 'task-status',\n\n  components: {\n    DeleteModal,\n    EditTaskStatusModal,\n    HelpCircleIcon,\n    ListPageHeader,\n    RouteTabs,\n    TaskStatusList\n  },\n\n  data() {\n    return {\n      activeTab: 'active',\n      taskStatusToDelete: null,\n      taskStatusToEdit: { color: '#000000' },\n      modals: {\n        edit: false,\n        del: false\n      },\n      loading: {\n        edit: false,\n        del: false,\n        list: false\n      },\n      errors: {\n        edit: false,\n        del: false,\n        list: false\n      },\n      tabs: [\n        {\n          name: 'active',\n          label: this.$t('main.active')\n        },\n        {\n          name: 'archived',\n          label: this.$t('main.archived')\n        }\n      ]\n    }\n  },\n\n  mounted() {\n    this.activeTab = this.$route.query.tab || 'active'\n  },\n\n  computed: {\n    ...mapGetters(['archivedTaskStatus', 'taskStatus']),\n\n    isActiveTab() {\n      return this.activeTab === 'active'\n    },\n\n    activeTaskStatuses() {\n      return this.isActiveTab ? this.taskStatus : this.archivedTaskStatus\n    },\n\n    taskStatusList() {\n      return this.activeTaskStatuses\n        .filter(taskStatus => !taskStatus.for_concept)\n        .sort((a, b) => a.priority - b.priority)\n    },\n\n    conceptStatusList() {\n      return this.activeTaskStatuses\n        .filter(taskStatus => taskStatus.for_concept)\n        .sort((a, b) => a.priority - b.priority)\n    }\n  },\n\n  methods: {\n    ...mapActions(['deleteTaskStatus', 'updateTaskStatusPriority']),\n\n    async updatePriorities(taskStatuses) {\n      for (const taskStatus of taskStatuses) {\n        await this.updateTaskStatusPriority(taskStatus)\n      }\n    },\n\n    confirmEditTaskStatus(form) {\n      const isNew = !(this.taskStatusToEdit && this.taskStatusToEdit.id)\n      let action = 'newTaskStatus'\n      if (!isNew) {\n        action = 'saveTaskStatus'\n        form.id = this.taskStatusToEdit.id\n      }\n\n      this.loading.edit = true\n      this.errors.edit = false\n      this.$store\n        .dispatch(action, form)\n        .then(() => {\n          this.loading.edit = false\n          this.modals.edit = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.edit = false\n          this.errors.edit = true\n        })\n    },\n\n    confirmDeleteTaskStatus() {\n      this.loading.del = true\n      this.errors.del = false\n      this.deleteTaskStatus(this.taskStatusToDelete)\n        .then(() => {\n          this.loading.del = false\n          this.modals.del = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.del = false\n          this.errors.del = true\n        })\n    },\n\n    deleteText() {\n      const taskStatus = this.taskStatusToDelete\n      if (taskStatus) {\n        return this.$t('task_status.delete_text', { name: taskStatus.name })\n      } else {\n        return ''\n      }\n    },\n\n    onExportClicked() {\n      const name = stringHelpers.slugify(this.$t('task_status.title'))\n      const headers = [\n        this.$t('main.type'),\n        this.$t('task_status.fields.name'),\n        this.$t('task_status.fields.short_name'),\n        this.$t('task_status.fields.description'),\n        this.$t('task_status.fields.color'),\n        this.$t('task_status.fields.is_default'),\n        this.$t('task_status.fields.is_done'),\n        this.$t('task_status.fields.is_retake'),\n        this.$t('task_status.fields.is_artist_allowed'),\n        this.$t('task_status.fields.is_client_allowed'),\n        this.$t('task_status.fields.is_feedback_request')\n      ]\n      const entries = [headers].concat(\n        this.taskStatus.map(taskStatus => [\n          taskStatus.type,\n          taskStatus.name,\n          taskStatus.short_name,\n          taskStatus.description,\n          taskStatus.color,\n          taskStatus.is_default,\n          taskStatus.is_done,\n          taskStatus.is_retake,\n          taskStatus.is_artist_allowed,\n          taskStatus.is_client_allowed,\n          taskStatus.is_feedback_request\n        ])\n      )\n      csv.buildCsvFile(name, entries)\n    },\n\n    onNewClicked() {\n      this.taskStatusToEdit = { color: '#000000' }\n      this.modals.edit = true\n    },\n\n    onEditClicked(taskStatus) {\n      this.taskStatusToEdit = taskStatus\n      this.modals.edit = true\n    },\n\n    onDeleteClicked(taskStatus) {\n      this.taskStatusToDelete = taskStatus\n      this.modals.del = true\n    }\n  },\n\n  watch: {\n    $route() {\n      this.activeTab = this.$route.query.tab || 'active'\n    }\n  },\n\n  head() {\n    return {\n      title: `${this.$t('task_status.title')} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.help-tooltip {\n  opacity: 0.5;\n  transition: opacity 0.3s ease;\n  margin-left: 0.25rem;\n\n  &:hover {\n    opacity: 1;\n  }\n  .icon.is-small {\n    vertical-align: baseline;\n  }\n}\n</style>\n"],"names":["_sfc_main","modalMixin","BooleanField","ColorField","ComboboxBoolean","ModalFooter","TextField","TextareaField","_a","_hoisted_1","_hoisted_2","_createElementBlock","_normalizeClass","$props","_createElementVNode","_ctx","$options","_hoisted_3","_toDisplayString","_hoisted_4","_cache","_withModifiers","_createBlock","_component_text_field","$data","$event","_createCommentVNode","_createVNode","_component_textarea_field","_component_boolean_field","_component_color_field","_component_combobox_boolean","_component_modal_footer","formatListMixin","BooleanCell","draggable","HelpCircleIcon","RowActionsCell","TableInfo","TaskStatusCell","taskStatusPriorities","taskStatus","index","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_openBlock","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_component_draggable","_withCtx","_createTextVNode","_component_help_circle_icon","_component_task_status_cell","_component_boolean_cell","_component_row_actions_cell","_component_table_info","DeleteModal","EditTaskStatusModal","ListPageHeader","RouteTabs","TaskStatusList","mapGetters","a","b","mapActions","taskStatuses","form","isNew","action","err","name","stringHelpers","entries","csv","_component_list_page_header","_component_route_tabs","_component_task_status_list","_component_edit_task_status_modal","_component_delete_modal"],"mappings":"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"}