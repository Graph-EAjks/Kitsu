import{af as c,b0 as I,T as m,e as a,m as u,a7 as d,bz as L,bA as S,bB as w,by as h,cp as n,n as l,cl as x,v as D,ad as M,w as p,b2 as Y,j as y,bq as q,B as O,A as R,C as T,c as P,I as j,J as N}from"./index-Djgk1VV_.js";import{B as W}from"./ButtonHrefLink-BRvg_IHK.js";import{C as E}from"./ComboboxStudio-ti4fjdoP.js";const B={name:"people-timesheet-list",components:{PeopleAvatar:c,PeopleName:I,TableInfo:m},data(){return{currentMonth:a().month()+1,currentYear:a().year(),currentWeek:a().week()}},props:{timesheet:{type:Object,default:()=>{}},people:{type:Array,default:()=>[]},detailLevel:{type:String,default:"day"},year:{type:Number,default:0},month:{type:Number,default:0},unit:{type:String,default:"hour"},isLoading:{type:Boolean,default:!1},isError:{type:Boolean,default:!1}},computed:{...u(["dayOffMap","organisation","route"]),yearRange(){return d(2018,a().year())},monthRange(){return L(this.year,this.currentYear,this.currentMonth)},dayRange(){return S(this.year,this.month,this.currentYear,this.currentMonth)},weekRange(){return w(this.year,this.currentYear,this.currentWeek)},isHours(){return this.unit==="hour"}},methods:{monthToString:h,yearDuration(s,t){const e=`${s}`,i=this.getDuration(e,t);return this.isHours?i:n(this.organisation,i).toFixed(2)},monthDuration(s,t){const e=`${s}`,i=this.getDuration(e,t);return this.isHours?i:n(this.organisation,i).toFixed(2)},weekDuration(s,t){const e=this.getDuration(s,t);return this.isHours?e:n(this.organisation,e).toFixed(2)},dayDuration(s,t){var e;if(((e=this.dayOffMap[t])==null?void 0:e[`${s}`])===!0)return this.$t("timesheets.off").toUpperCase();{const i=this.getDuration(s,t);return this.isHours?i:n(this.organisation,i).toFixed(2)}},getDuration(s,t){return this.timesheet&&this.timesheet[s]&&this.timesheet[s][t]?this.timesheet[s][t]/60:"-"},isWeekend(s,t,e){const i=a(`${s}-${t}-${e}`,"YYYY-M-D");return[0,6].includes(i.day())},isDaySelected(s,t,e,i){return this.$route.params.person_id&&this.$route.params.person_id===s&&this.$route.params.year===t&&this.$route.params.month===e&&this.$route.params.day===i},isWeekSelected(s,t,e){return this.$route.params.person_id&&this.$route.params.person_id===s&&this.$route.params.year===t&&this.$route.params.week===e},isMonthSelected(s,t,e){return this.$route.params.person_id&&this.$route.params.person_id===s&&this.$route.params.year===t&&this.$route.params.month===e},isYearSelected(s,t){return this.$route.params.person_id&&this.$route.params.person_id===s&&this.$route.params.year===t},getWeekTitle(s){const t=a(this.currentYear+"-"+s,"YYYY-W"),e=t.clone().add(6,"days");return t.format("YYYY-MM-DD")+" - "+e.format("YYYY-MM-DD")},getYearDetailRoute(s,t){return{name:"timesheets-year-person",params:{person_id:s.id,year:t},query:{productionId:this.$route.query.productionId,studioId:this.$route.query.studioId}}},getMonthDetailRoute(s,t,e){return{name:"timesheets-month-person",params:{person_id:s.id,year:t,month:e},query:{productionId:this.$route.query.productionId,studioId:this.$route.query.studioId}}},getWeekDetailRoute(s,t,e){return{name:"timesheets-week-person",params:{person_id:s.id,year:t,week:e},query:{productionId:this.$route.query.productionId,studioId:this.$route.query.studioId}}},getDayDetailRoute(s,t,e,i){return{name:"timesheets-day-person",params:{person_id:s.id,year:t,month:e,day:i},query:{productionId:this.$route.query.productionId,studioId:this.$route.query.studioId}}},isDayOff(s,t){const e=`${t}`.padStart(2,"0");return this.dayOffMap[s]&&this.dayOffMap[s][e]}},watch:{route(){document.getElementsByClassName("selected").length===0&&(this.$refs.body.scrollLeft+=350)}}};var A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-list"},[e("div",{ref:"body",staticClass:"datatable-wrapper"},[e("table",{staticClass:"datatable"},[e("thead",{staticClass:"datatable-head"},[e("tr",[e("th",{staticClass:"name datatable-row-header",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("people.list.name"))+" ")]),t._l(t.yearRange,function(i){return t.detailLevel==="year"?e("th",{key:`year-${i}`,staticClass:"time year",attrs:{scope:"col"}},[t._v(" "+t._s(i)+" ")]):t._e()}),t._l(t.monthRange,function(i){return t.detailLevel==="month"?e("th",{key:`month-${i}`,staticClass:"time month",attrs:{scope:"col"}},[t._v(" "+t._s(t.monthToString(i))+" ")]):t._e()}),t._l(t.weekRange,function(i){return t.detailLevel==="week"?e("th",{key:`week-${i}`,staticClass:"daytime",attrs:{scope:"col",title:t.getWeekTitle(i)}},[t._v(" "+t._s(i)+" ")]):t._e()}),t._l(t.dayRange,function(i){return t.detailLevel==="day"?e("th",{key:`day-${i}`,staticClass:"daytime",attrs:{scope:"col"}},[t._v(" "+t._s(i)+" ")]):t._e()}),e("th",{staticClass:"actions",attrs:{scope:"col"}})],2)]),t.isLoading?t._e():e("tbody",{staticClass:"datatable-body"},t._l(t.people,function(i){return e("tr",{key:i.id,staticClass:"datatable-row"},[e("th",{staticClass:"datatable-row-header name"},[e("div",{staticClass:"flexrow"},[e("people-avatar",{staticClass:"flexrow-item",attrs:{person:i}}),e("people-name",{staticClass:"flexrow-item",attrs:{"with-link":"",person:i}})],1)]),t._l(t.yearRange,function(r){return t.detailLevel==="year"?e("td",{key:`year-${r}-${i.id}`,staticClass:"time year",class:{selected:t.isYearSelected(i.id,r)}},[t.yearDuration(r,i.id)>0?e("router-link",{staticClass:"duration",attrs:{to:t.getYearDetailRoute(i,r)}},[t._v(" "+t._s(t.yearDuration(r,i.id))+" ")]):[t._v(" - ")]],2):t._e()}),t._l(t.monthRange,function(r){return t.detailLevel==="month"?e("td",{key:`month-${r}-${i.id}`,staticClass:"time month",class:{selected:t.isMonthSelected(i.id,t.year,r)}},[t.monthDuration(r,i.id)>0?e("router-link",{staticClass:"duration",attrs:{to:t.getMonthDetailRoute(i,t.year,r)}},[t._v(" "+t._s(t.monthDuration(r,i.id))+" ")]):[t._v(" - ")]],2):t._e()}),t._l(t.weekRange,function(r){return t.detailLevel==="week"?e("td",{key:`week-${r}-${i.id}`,staticClass:"daytime",class:{selected:t.isWeekSelected(i.id,t.year,r)}},[t.weekDuration(r,i.id)>0?e("router-link",{staticClass:"duration",class:{warning:t.weekDuration(r,i.id)>5*t.organisation.hours_by_day},attrs:{to:t.getWeekDetailRoute(i,t.year,r)}},[t._v(" "+t._s(t.weekDuration(r,i.id))+" ")]):[t._v(" - ")]],2):t._e()}),t._l(t.dayRange,function(r){return t.detailLevel==="day"?e("td",{key:`day-${r}-${i.id}`,staticClass:"daytime",class:{weekend:t.isWeekend(t.year,t.month,r),selected:t.isDaySelected(i.id,t.year,t.month,r)}},[t.dayDuration(r,i.id)>0?e("router-link",{staticClass:"duration",attrs:{to:t.getDayDetailRoute(i,t.year,t.month,r)}},[t._v(" "+t._s(t.dayDuration(r,i.id))+" ")]):t.isDayOff(i.id,r)?[t._v(" "+t._s(t.$t("timesheets.off").toUpperCase())+" ")]:[t._v(" - ")]],2):t._e()}),e("td",{staticClass:"actions"})],2)}),0)])]),e("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),t.isLoading?t._e():e("p",{staticClass:"has-text-centered footer-info"},[t._v(" "+t._s(t.people.length)+" "+t._s(t.$tc("people.persons",t.people.length))+" ")])],1)},H=[],F=l(B,A,H,!1,null,"3130dd60",null,null);const U=F.exports,z={name:"time-spent-task-list",components:{TableInfo:m,ProductionName:x,TaskTypeName:D},data(){return{projectNames:{}}},props:{tasks:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},isLoadingError:{type:Boolean,default:!1}},computed:{...u(["productionMap","taskTypeMap"]),projects(){const s={};return[...this.tasks].sort(M.firstBy("project_name")).forEach(e=>{s[e.project_id]||(s[e.project_id]={}),s[e.project_id][e.task_type_id]||(s[e.project_id][e.task_type_id]=[]);let i=e.entity_name;["Shot","Sequence"].includes(e.entity_type_name)?(i=`${e.sequence_name} / ${i}`,e.episode_name&&(i=`${e.episode_name} / ${i}`)):i=`${e.entity_type_name} / ${i}`,s[e.project_id][e.task_type_id].push({id:e.task_id,project_id:e.project_id,task_type_id:e.task_type_id,name:i,duration:e.duration})}),Object.keys(s).forEach(e=>{Object.keys(s[e]).forEach(i=>{s[e][i]=p(s[e][i])})}),s}},methods:{getTaskPath(s){const t=this.productionMap.get(s.project_id);if(!t||t.project_status_name==="Closed")return"";const e=t.production_type==="tvshow",i={id:t.first_episode_id};return Y(s,null,e,i,this.taskTypeMap)},onBodyScroll(s,t){this.$refs.headerWrapper.style.left=`-${t.scrollLeft}px`}},watch:{tasks(){this.projectNames=this.tasks.reduce((s,t)=>{const e=this.productionMap.get(t.project_id),i=(e==null?void 0:e.project_status_name)==="Closed"?" (closed)":"";return s[t.project_id]=t.project_name+i,s},{})}}};var J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-list"},[e("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isLoadingError}}),e("div",{staticClass:"aggregated-time-spents"},t._l(Object.keys(t.projects),function(i){return e("div",{key:i,staticClass:"by-project"},[t.projectNames[i]?e("production-name",{attrs:{production:{id:i,name:t.projectNames[i]}}}):t._e(),t._l(Object.keys(t.projects[i]),function(r){return e("div",{key:r,staticClass:"by-task-type-id"},[e("task-type-name",{attrs:{"task-type":t.taskTypeMap.get(r)}}),e("div",{staticClass:"table-body"},[e("table",{staticClass:"datatable"},[e("tbody",{staticClass:"datatable-body"},t._l(t.projects[i][r],function(o){return e("tr",{key:o.id,staticClass:"by-task-type-id datatable-row"},[e("router-link",{attrs:{to:t.getTaskPath(o)}},[e("td",{staticClass:"name"},[t._v(" "+t._s(o.name)+" ")]),e("td",{staticClass:"duration"},[t._v(t._s(o.duration/60))])])],1)}),0)])])],1)})],2)}),0)],1)},G=[],K=l(z,J,G,!1,null,"6eb075ce",null,null);const V=K.exports,X={name:"people-timesheet-info",components:{PageTitle:y,PeopleAvatar:c,TimeSpentTaskList:V,XIcon:q},props:{person:{type:Object,default:()=>{}},year:{type:Number,default:0},month:{type:Number,default:0},week:{type:Number,default:0},day:{type:Number,default:0},isLoading:{type:Boolean,default:!1},isLoadingError:{type:Boolean,default:!1},tasks:{type:Array,default:()=>[]},dayOffCount:{type:Number,default:0}},computed:{startDay(){return a().day("Monday").year(this.year).week(this.week).date()},endDay(){return a().day("Monday").year(this.year).week(this.week).add(6,"days").date()},weekMonth(){return a().day("Monday").year(this.year).week(this.week).format("MMM")},monthString(){return h(this.month)},isYearInfo(){return!this.isMonthInfo&&!this.isWeekInfo&&!this.isDayInfo},isMonthInfo(){return this.$route.path.indexOf("month")>0},isWeekInfo(){return this.$route.path.indexOf("week")>0},isDayInfo(){return this.$route.path.indexOf("day")>0},closeRoute(){const s={productionId:this.$route.query.productionId,studioId:this.$route.query.studioId};return this.isYearInfo?{name:"timesheets-year",params:{year:this.year},query:s}:this.isMonthInfo?{name:"timesheets-month",params:{year:this.year,month:this.month},query:s}:this.isWeekInfo?{name:"timesheets-week",params:{year:this.year,week:this.week},query:s}:this.isDayInfo?{name:"timesheets-day",params:{year:this.year,month:this.month,day:this.day},query:s}:{name:"timesheets",query:s}}},methods:{onCloseClicked(){this.$emit("close")}}};var Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"people-timesheet-info"},[e("div",{staticClass:"close"},[e("router-link",{staticClass:"close-button",attrs:{to:t.closeRoute}},[e("x-icon")],1)],1),e("div",{staticClass:"flexrow"},[e("people-avatar",{staticClass:"flexrow-item",attrs:{person:t.person,"is-lazy":!1}}),e("page-title",{staticClass:"flexrow-item",attrs:{text:t.person.full_name}})],1),t.isYearInfo?e("div",{staticClass:"info-date"},[t._v(" "+t._s(t.year)+" ")]):t._e(),t.isMonthInfo?e("div",{staticClass:"info-date"},[t._v(t._s(t.monthString)+" "+t._s(t.year))]):t.isWeekInfo?e("div",{staticClass:"info-date"},[t._v(" "+t._s(t.$t("main.week"))+" "+t._s(t.week)+", "+t._s(t.startDay)+" - "+t._s(t.endDay)+" "+t._s(t.weekMonth)+" "+t._s(t.year)+" ")]):t._e(),t.isDayInfo?t.isDayInfo?e("div",{staticClass:"info-date"},[t._v(" "+t._s(t.day)+" "+t._s(t.monthString)+" "+t._s(t.year)+" ")]):t._e():e("div",{staticClass:"info-day-off"},[t._v(" "+t._s(t.dayOffCount)+" "+t._s(t.$tc("days_off.nb_days_off",t.dayOffCount))+" ")]),e("time-spent-task-list",{staticClass:"time-spent-list",attrs:{tasks:t.tasks,"is-loading":t.isLoading,"is-error":t.isLoadingError}})],1)},Z=[],tt=l(X,Q,Z,!1,null,"bec743f1",null,null);const et=tt.exports,st={name:"timesheets",components:{ButtonSimple:O,ButtonHrefLink:W,Combobox:R,ComboboxProduction:T,ComboboxStudio:E,PageTitle:y,PeopleTimesheetList:U,PeopleTimesheetInfo:et},data(){return{detailOptions:[{label:"Day",value:"day"},{label:"Week",value:"week"},{label:"Month",value:"month"},{label:"Year",value:"year"}],unitOptions:[{label:"Hour",value:"hour"},{label:"Day",value:"day"}],detailLevelString:"day",detailLevel:"day",productionId:"",productionIdString:"",studioId:"",studioIdString:"",yearString:`${a().year()}`,monthString:`${a().month()+1}`,unit:"hour",currentYear:a().year(),currentMonth:a().month()+1,currentWeek:a().week(),currentDay:a().date(),currentPerson:this.getCurrentPerson(),isLoading:!1,isLoadingError:!1,dayOffCount:0,isInfoLoading:!1,isInfoLoadingError:!1,showInfo:!0,tasks:[]}},created(){this.isLoading=!0,this.loadProductions(),this.people.length===0?this.loadPeople(()=>{this.loadRoute()}):this.loadRoute()},mounted(){const s=this.$route.query.productionId||void 0,t=this.$route.query.studioId||void 0;(s||t)&&(this.silent=!0,this.productionId=s,this.productionIdString=s,this.studioId=t,this.studioIdString=t,this.reloadTimesheet().then(()=>{this.silent=!1}))},computed:{...u(["isCurrentUserAdmin","isCurrentUserManager","organisation","people","productions","personMap","timesheet"]),productionList(){const s=p([...this.productions]).map(t=>{const e=t.project_status_name==="Closed"?" (closed)":"";return{...t,name:t.name+e}});return[{id:"",name:this.$t("main.all")},...s]},filteredPeople(){return this.people.filter(s=>{const t=Object.keys(this.timesheet);let e=!1,i=0;do this.timesheet[t[i]]&&(e=this.timesheet[t[i]][s.id]!==void 0),i++;while(!e&&i<t.length);return e})},yearOptions(){const t=a().year();return d(2018,t).map(e=>({label:e,value:`${e}`}))},monthOptions(){const s=`${a().year()}`,t=1,e=a().month()+1;let i=d(t,12);return s===this.yearString&&(i=d(t,e)),i.map(r=>({label:h(r),value:`${r}`}))}},methods:{...P(["loadPeople","loadProductions","loadAggregatedPersonDaysOff","loadAggregatedPersonTimeSpents","loadTimesheets"]),reloadTimesheet(){return this.isLoading=!0,this.isLoadingError=!1,this.loadTimesheets({detailLevel:this.detailLevel,year:this.currentYear,month:this.currentMonth,productionId:this.productionId,studioId:this.studioId}).then(()=>{this.isLoading=!1}).catch(s=>{console.error(s),this.isLoading=!1,this.isLoadingError=!0})},showSideInfo(){this.showInfo=!0},hideSideInfo(){this.showInfo=!1},loadRoute(){this.$options.silent=!0;const{month:s,year:t,week:e,day:i}=this.$route.params,r=`${this.productionId}`,o=`${this.studioId}`,f=`${this.detailLevel}`,_=`${this.currentMonth}`,g=`${this.currentYear}`;this.$route.path.indexOf("week")>0&&(this.detailLevel="week"),this.$route.path.indexOf("month")>0&&(this.detailLevel="month"),this.$route.path.indexOf("day")>0&&(this.detailLevel="day"),this.$route.path.indexOf("year")>0&&(this.detailLevel="year"),this.currentPerson=this.getCurrentPerson(),this.detailLevelString=this.detailLevel,s&&(this.currentMonth=Number(s),this.monthString=`${s}`),t&&(this.currentYear=Number(t),this.yearString=`${t}`),e&&(this.currentWeek=Number(e),this.weekString=`${e}`),i&&(this.currentDay=Number(i)),this.productionId=this.$route.query.productionId||"",this.studioId=this.$route.query.studioId||"";const $=f!==this.detailLevel,v=_.localeCompare(`${this.currentMonth}`)!==0,k=g.localeCompare(`${this.currentYear}`)!==0,b=r.localeCompare(`${this.productionId}`)!==0,C=o.localeCompare(`${this.studioId}`)!==0;this.$nextTick(()=>{this.$options.silent=!1}),this.$route.path.indexOf("person")>0?(this.showSideInfo(),this.loadAggregate()):this.hideSideInfo(),(this.isLoading||v||k||$||b||C)&&this.reloadTimesheet()},loadAggregate(){this.isInfoLoading=!0,this.isInfoLoadingError=!1,this.tasks=[],this.loadAggregatedPersonTimeSpents({personId:this.$route.params.person_id,detailLevel:this.detailLevel,year:this.$route.params.year,month:this.$route.params.month,week:this.$route.params.week,day:this.$route.params.day,productionId:this.productionId,studioId:this.studioId}).then(s=>(this.tasks=s.filter(t=>t.duration>0),this.loadAggregatedPersonDaysOff({personId:this.$route.params.person_id,detailLevel:this.detailLevel,year:this.$route.params.year,month:this.$route.params.month,week:this.$route.params.week}))).then(s=>{this.dayOffCount=s.length,this.isInfoLoading=!1}).catch(s=>{console.error(s),this.isInfoLoadingError=!0})},getCurrentPerson(){const s=this.$route.params.person_id;return s&&this.personMap?this.personMap.get(s):{}},exportTimesheet(){const s=["timesheet",this.detailLevel,this.currentYear];this.detailLevel==="day"&&s.push(this.currentMonth);const t=j.slugify(s.join("_"));N.generateTimesheet(t,this.timesheet,this.filteredPeople,this.unit,this.organisation,this.detailLevel,this.currentYear,this.currentMonth,a().month()+1,a().year(),a().week())},updateRoute({productionId:s,studioId:t}){const e={...this.$route.query};s!==void 0&&(e.productionId=s||void 0),t!==void 0&&(e.studioId=t||void 0),JSON.stringify(e)!==JSON.stringify(this.$route.query)&&this.$router.push({query:e})}},watch:{detailLevelString(){this.silent||this.detailLevel!==this.detailLevelString&&(this.detailLevelString==="month"?this.$router.push({name:"timesheets-month",params:{year:this.currentYear},query:this.$route.query}):this.detailLevelString==="week"?this.$router.push({name:"timesheets-week",params:{year:this.currentYear},query:this.$route.query}):this.detailLevelString==="day"?this.$router.push({name:"timesheets-day",params:{year:this.currentYear,month:this.currentMonth},query:this.$route.query}):this.detailLevelString==="year"&&this.$router.push({name:"timesheets-year",params:{year:this.currentYear},query:this.$route.query}))},yearString(){if(this.silent)return;const s=Number(this.yearString),t=a().month();this.currentYear!==s&&(this.detailLevel==="month"?this.$router.push({name:"timesheets-month",params:{year:s},query:this.$route.query}):this.detailLevel==="week"?this.$router.push({name:"timesheets-week",params:{year:s},query:this.$route.query}):this.$router.push({name:"timesheets-day",params:{year:s,month:Math.min(Number(this.monthString),t)},query:this.$route.query}))},monthString(){this.silent||this.currentMonth!==Number(this.monthString)&&this.$router.push({name:"timesheets-day",params:{year:this.currentYear,month:Number(this.monthString)},query:this.$route.query})},productionIdString(s){this.silent||this.updateRoute({productionId:s})},studioIdString(s){this.silent||this.updateRoute({studioId:s})},$route(){this.loadRoute()}},metaInfo(){return{title:`${this.$t("timesheets.title")} - Kitsu`}}};var it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns fixed-page"},[e("div",{staticClass:"column main-column"},[e("div",{staticClass:"timesheets page"},[e("div",{staticClass:"page-header flexrow"},[e("page-title",{staticClass:"flexrow-item title",attrs:{text:t.$t("timesheets.title")}}),e("combobox-production",{staticClass:"flexrow-item",attrs:{label:t.$t("main.production"),"production-list":t.productionList},model:{value:t.productionIdString,callback:function(i){t.productionIdString=i},expression:"productionIdString"}}),e("combobox-studio",{staticClass:"flexrow-item field",attrs:{label:t.$t("main.studio")},model:{value:t.studioIdString,callback:function(i){t.studioIdString=i},expression:"studioIdString"}}),e("combobox",{staticClass:"flexrow-item",attrs:{label:t.$t("timesheets.detail_level"),options:t.detailOptions},model:{value:t.detailLevelString,callback:function(i){t.detailLevelString=i},expression:"detailLevelString"}}),t.detailLevelString!=="year"?e("combobox",{staticClass:"flexrow-item",attrs:{label:t.$t("timesheets.year"),options:t.yearOptions},model:{value:t.yearString,callback:function(i){t.yearString=i},expression:"yearString"}}):t._e(),t.detailLevelString==="day"?e("combobox",{staticClass:"flexrow-item",attrs:{label:t.$t("timesheets.month"),options:t.monthOptions},model:{value:t.monthString,callback:function(i){t.monthString=i},expression:"monthString"}}):t._e(),e("combobox",{staticClass:"flexrow-item",attrs:{label:t.$t("timesheets.unit"),options:t.unitOptions},model:{value:t.unit,callback:function(i){t.unit=i},expression:"unit"}}),e("div",{staticClass:"filler"}),e("button-simple",{staticClass:"flexrow-item",attrs:{title:t.$t("timesheets.export_timesheet"),icon:"export"},on:{click:t.exportTimesheet}}),t.isCurrentUserAdmin?e("button-href-link",{staticClass:"flexrow-item",attrs:{title:t.$t("timesheets.export_timespents"),path:"/api/export/csv/time-spents.csv",icon:"export-lines"}}):t._e()],1),e("people-timesheet-list",{staticClass:"data-list",attrs:{people:t.filteredPeople,timesheet:t.timesheet,"detail-level":t.detailLevel,month:t.currentMonth,year:t.currentYear,unit:t.unit,"is-loading":t.isLoading,"is-error":t.isLoadingError}})],1)]),t.showInfo?e("div",{staticClass:"column side-column"},[e("people-timesheet-info",{attrs:{person:t.currentPerson,production:t.productionId,year:t.currentYear,month:t.currentMonth,week:t.currentWeek,day:t.currentDay,unit:t.unit,"is-loading":t.isInfoLoading,"is-loading-error":t.isInfoLoadingError,tasks:t.tasks,"day-off-count":t.dayOffCount},on:{close:t.hideSideInfo}})],1):t._e()])},rt=[],at=l(st,it,rt,!1,null,"b7ac7134",null,null);const lt=at.exports;export{lt as default};
//# sourceMappingURL=Timesheets-8xvWG869.js.map
