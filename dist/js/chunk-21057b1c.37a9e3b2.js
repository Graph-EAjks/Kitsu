(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21057b1c"],{"38fe":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"custom-actions page fixed-page"},[o("list-page-header",{attrs:{title:t.$t("custom_actions.title"),"new-entry-label":t.$t("custom_actions.new_custom_action")},on:{"new-clicked":t.onNewClicked}}),o("custom-action-list",{attrs:{entries:t.customActions,"is-loading":t.loading.list,"is-error":t.errors.list},on:{"edit-clicked":t.onEditClicked,"delete-clicked":t.onDeleteClicked}}),o("edit-custom-action-modal",{attrs:{active:t.modals.edit,"is-loading":t.loading.edit,"is-error":t.errors.edit,"custom-action-to-edit":t.customActionToEdit},on:{cancel:function(e){t.modals.edit=!1},confirm:t.confirmEditCustomAction}}),o("delete-modal",{attrs:{active:t.modals.del,"is-loading":t.loading.del,"is-error":t.errors.del,text:t.deleteText,"error-text":t.$t("custom_actions.delete_error")},on:{cancel:function(e){t.modals.delete=!1},confirm:t.confirmDeleteCustomAction}})],1)},n=[],r=o("2f62"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"data-list"},[o("div",{staticClass:"datatable-wrapper"},[o("table",{staticClass:"datatable"},[o("thead",{staticClass:"datatable-head"},[o("tr",[o("th",{staticClass:"name",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("custom_actions.fields.name"))+" ")]),o("th",{staticClass:"url",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("custom_actions.fields.url"))+" ")]),o("th",{staticClass:"entity-type",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("custom_actions.fields.entity_type"))+" ")]),o("th",{staticClass:"is-ajax",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("custom_actions.fields.is_ajax"))+" ")]),o("th",{staticClass:"actions",attrs:{scope:"col"}},[t._v("Â ")])])]),o("tbody",{staticClass:"datatable-body"},t._l(t.entries,(function(e){return o("tr",{key:e.id,staticClass:"datatable-row"},[o("td",{staticClass:"name datatable-row-header",attrs:{scope:"row"}},[t._v(" "+t._s(e.name)+" ")]),o("td",{staticClass:"url"},[t._v(t._s(e.url))]),o("td",{staticClass:"entity-type"},[t._v(t._s(e.entity_type))]),o("td",{staticClass:"is-ajax"},[t._v(" "+t._s(t.formatBoolean(e.is_ajax))+" ")]),o("row-actions-cell",{attrs:{"entry-id":e.id},on:{"edit-clicked":function(o){return t.$emit("edit-clicked",e)},"delete-clicked":function(o){return t.$emit("delete-clicked",e)}}})],1)})),0)])]),o("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),o("p",{staticClass:"has-text-centered nb-custom-actions"},[t._v(" "+t._s(t.entries.length)+" "+t._s(t.$tc("custom_actions.number",t.entries.length))+" ")])],1)},s=[],a=o("31f2"),l=o("14b2"),u=o("e60b");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function m(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?m(Object(o),!0).forEach((function(e){b(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function b(t,e,o){return e=p(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function p(t){var e=y(t,"string");return"symbol"===f(e)?e:String(e)}function y(t,e){if("object"!==f(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var v={name:"custom-action-list",mixins:[a["a"]],props:{entries:{type:Array,default:function(){return[]}},isError:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{}},components:{RowActionsCell:l["a"],TableInfo:u["a"]},computed:d({},Object(r["c"])([])),methods:d(d({},Object(r["b"])([])),{},{renderForShots:function(t){return this.$tc("".concat(t.toLowerCase(),".title"))}})},h=v,O=(o("e40c"),o("2877")),g=Object(O["a"])(h,c,s,!1,null,"88024f22",null),j=g.exports,_=o("5f48"),w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{modal:!0,"is-active":t.active}},[o("div",{staticClass:"modal-background",on:{click:function(e){return t.$emit("cancel")}}}),o("div",{staticClass:"modal-content"},[o("div",{staticClass:"box"},[t.isEditing()?o("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("custom_actions.edit_title"))+" "+t._s(t.customActionToEdit.name)+" ")]):o("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("custom_actions.new_custom_action"))+" ")]),o("form",{on:{submit:function(t){t.preventDefault()}}},[o("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{label:t.$t("custom_actions.fields.name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),o("text-field",{ref:"urlField",attrs:{label:t.$t("custom_actions.fields.url")},on:{enter:t.confirmClicked},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}}),o("combobox",{attrs:{label:t.$t("custom_actions.fields.entity_type"),options:t.entityTypeOptions,"locale-key-prefix":"custom_actions.entity_types."},on:{enter:t.confirmClicked},model:{value:t.form.entityType,callback:function(e){t.$set(t.form,"entityType",e)},expression:"form.entityType"}}),o("combobox-boolean",{attrs:{label:t.$t("custom_actions.fields.is_ajax")},on:{enter:t.confirmClicked},model:{value:t.form.isAjax,callback:function(e){t.$set(t.form,"isAjax",e)},expression:"form.isAjax"}})],1),o("modal-footer",{attrs:{"error-text":t.$t("custom_actions.create_error"),"is-error":t.isError},on:{confirm:t.confirmClicked,cancel:function(e){return t.$emit("cancel")}}})],1)])])},C=[],A=o("d065"),E=o("992f"),P=o("4636"),S=o("d5c9"),x=o("7bf8");function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function k(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function $(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?k(Object(o),!0).forEach((function(e){D(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):k(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function D(t,e,o){return e=B(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function B(t){var e=L(t,"string");return"symbol"===T(e)?e:String(e)}function L(t,e){if("object"!==T(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!==T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var N={name:"edit-custom-action-modal",mixins:[A["a"]],components:{Combobox:E["a"],ComboboxBoolean:P["a"],ModalFooter:S["a"],TextField:x["a"]},props:{active:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},customActionToEdit:{type:Object,default:function(){}}},data:function(){return{form:{name:"",url:"",entityType:"all",isAjax:"false"},entityTypeOptions:[{label:"all",value:"all"},{label:"asset",value:"asset"},{label:"shot",value:"shot"}]}},computed:$({},Object(r["c"])(["customActions","customActionStatusOptions"])),methods:$($({},Object(r["b"])([])),{},{confirmClicked:function(){this.$emit("confirm",this.form)},isEditing:function(){return this.customActionToEdit&&this.customActionToEdit.id}}),watch:{customActionToEdit:function(){this.customActionToEdit&&(this.form={name:this.customActionToEdit.name,url:this.customActionToEdit.url,entityType:this.customActionToEdit.entity_type,isAjax:Boolean(this.customActionToEdit.is_ajax).toString()})},active:function(){var t=this;this.active&&setTimeout((function(){t.$refs.nameField.focus()}),100)}}},F=N,M=(o("82c6"),Object(O["a"])(F,w,C,!1,null,"96860e10",null)),I=M.exports,J=o("459c");function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function K(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function R(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?K(Object(o),!0).forEach((function(e){q(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):K(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function q(t,e,o){return e=z(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function z(t){var e=G(t,"string");return"symbol"===H(e)?e:String(e)}function G(t,e){if("object"!==H(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!==H(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Q={name:"custom-actions",components:{CustomActionList:j,DeleteModal:_["a"],EditCustomActionModal:I,ListPageHeader:J["a"]},data:function(){return{modals:{edit:!1,del:!1},loading:{edit:!1,del:!1,list:!1},errors:{edit:!1,del:!1,list:!1},customActionToDelete:null,customActionToEdit:null}},computed:R(R({},Object(r["c"])(["customActions"])),{},{deleteText:function(){var t=this.customActionToDelete;return t?this.$t("custom_actions.delete_text",{name:t.name}):""}}),created:function(){var t=this;this.loading.list=!0,this.errors.list=!1,this.loadCustomActions((function(e){t.loading.list=!1,e&&(t.errors.list=!0)}))},methods:R(R({},Object(r["b"])(["deleteCustomAction","editCustomAction","loadCustomActions","newCustomAction"])),{},{confirmEditCustomAction:function(t){var e=this,o="newCustomAction";this.customActionToEdit&&this.customActionToEdit.id&&(o="editCustomAction",t.id=this.customActionToEdit.id),this.loading.edit=!0,this.errors.edit=!1,this[o](t).then((function(){e.loading.edit=!1,e.modals.edit=!1})).catch((function(t){console.error(t),e.errors.edit=!0,e.modals.isNewDisplayed=!1}))},confirmDeleteCustomAction:function(){var t=this;this.loading.del=!0,this.errors.del=!1,this.deleteCustomAction(this.customActionToDelete).then((function(){t.loading.del=!1,t.modals.del=!1})).catch((function(e){console.error(e),t.errors.del=!0,t.loading.del=!1}))},onNewClicked:function(){this.customActionToEdit={},this.errors.edit=!1,this.modals.edit=!0},onEditClicked:function(t){this.customActionToEdit=t,this.errors.edit=!1,this.modals.edit=!0},onDeleteClicked:function(t){this.customActionToDelete=t,this.errors.del=!1,this.modals.del=!0}}),watch:{$route:function(){this.handleModalsDisplay()}},metaInfo:function(){return{title:"".concat(this.$t("custom_actions.title")," - Kitsu")}}},U=Q,V=Object(O["a"])(U,i,n,!1,null,"70e53248",null);e["default"]=V.exports},"459c":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"level page-header"},[o("div",{staticClass:"level-left"},[o("page-title",{attrs:{text:t.title}})],1),o("div",{staticClass:"level-right"},[o("button-simple",{staticClass:"level-item",attrs:{icon:"plus",text:t.newEntryLabel},on:{click:function(e){return t.$emit("new-clicked")}}})],1)])},n=[],r=o("2f62"),c=o("de40"),s=o("8d07");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){f(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function f(t,e,o){return e=m(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function m(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var b={name:"list-page-header",components:{ButtonSimple:c["a"],PageTitle:s["a"]},props:{title:{type:String,default:""},newEntryLabel:{type:String,default:""}},computed:u({},Object(r["c"])([])),methods:u({},Object(r["b"])([])),watch:{}},p=b,y=o("2877"),v=Object(y["a"])(p,i,n,!1,null,"bf4864ae",null);e["a"]=v.exports},"7d12":function(t,e,o){},"82c6":function(t,e,o){"use strict";o("7d12")},c417:function(t,e,o){},e40c:function(t,e,o){"use strict";o("c417")}}]);
//# sourceMappingURL=chunk-21057b1c.37a9e3b2.js.map