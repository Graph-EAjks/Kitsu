(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-363156f8"],{"4e82":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"productions page fixed-page"},[o("div",{staticClass:"level page-header"},[o("div",{staticClass:"level-left"},[o("page-title",{attrs:{text:t.$t("productions.title")}})],1),o("div",{staticClass:"level-right"},[o("div",{staticClass:"level-item"},[o("button-link",{staticClass:"level-item",attrs:{text:t.$t("productions.new_production"),icon:"plus",path:{name:"new-production"}}})],1)])]),o("production-list",{attrs:{entries:t.productions,"is-loading":t.isProductionsLoading,"is-error":t.isProductionsLoadingError},on:{"delete-clicked":t.onDeleteClicked,"edit-clicked":t.onEditClicked}}),o("edit-production-modal",{attrs:{active:t.modals.isNewDisplayed,"is-loading":t.loading.edit,"is-error":t.errors.edit,"production-to-edit":t.productionToEdit},on:{cancel:function(e){t.modals.isNewDisplayed=!1},fileselected:t.onProductionPictureSelected,confirm:t.confirmEditProduction}}),o("hard-delete-modal",{attrs:{active:t.modals.isDeleteDisplayed,"is-loading":t.loading.del,"is-error":t.errors.del,text:t.deleteText(),"error-text":t.$t("productions.delete_error"),"lock-text":t.currentLockText},on:{cancel:function(e){t.modals.isDeleteDisplayed=!1},confirm:t.confirmDeleteProduction}})],1)},n=[],r=o("2f62"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"data-list"},[o("div",{staticClass:"datatable-wrapper"},[o("table",{staticClass:"datatable multi-section"},[o("thead",{staticClass:"datatable-head"},[o("tr",[o("th",{staticClass:"name datatable-row-header",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("productions.fields.name"))+" ")]),o("th",{staticClass:"type",attrs:{scope:"col"}},[t._v(t._s(t.$t("productions.fields.type")))]),o("th",{staticClass:"style",attrs:{scope:"col"}},[t._v(t._s(t.$t("productions.fields.style")))]),o("th",{staticClass:"fps",attrs:{scope:"col"}},[t._v(t._s(t.$t("productions.fields.fps")))]),o("th",{staticClass:"ratio",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("productions.fields.ratio"))+" ")]),o("th",{staticClass:"resolution",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("productions.fields.resolution"))+" ")]),o("th",{staticClass:"actions",attrs:{scope:"col"}})])]),o("tbody",{staticClass:"datatable-body"},[o("tr",{staticClass:"datatable-type-header"},[o("th",{attrs:{scope:"rowgroup",colspan:"6"}},[o("span",{staticClass:"datatable-row-header"},[t._v(" "+t._s(t.$t("productions.status.open"))+" ")])])]),t._l(t.openProductions,(function(e){return o("tr",{key:e.id,staticClass:"datatable-row"},[o("th",{staticClass:"name datatable-row-header",attrs:{scope:"row"}},[o("production-name-cell",{attrs:{"with-avatar":!0,entry:e,"last-production-screen":t.lastProductionScreen}})],1),o("td",{staticClass:"type"},[t._v(" "+t._s(t.$t("productions.type."+(e.production_type||"short")))+" ")]),o("td",{staticClass:"style"},[t._v(" "+t._s(t.$t("productions.style."+(e.production_style||"3d")))+" ")]),o("td",{staticClass:"fps"},[t._v(" "+t._s(e.fps)+" ")]),o("td",{staticClass:"ratio"},[t._v(" "+t._s(e.ratio)+" ")]),o("td",{staticClass:"resolution"},[t._v(" "+t._s(e.resolution)+" ")]),o("row-actions-cell",{attrs:{"entry-id":e.id,"hide-delete":!0},on:{"edit-clicked":function(o){return t.$emit("edit-clicked",e)}}})],1)}))],2),t.closedProductions.length>0?o("tbody",[o("tr",{staticClass:"datatable-type-header"},[o("th",{attrs:{scope:"rowgroup",colspan:"6"}},[o("span",{staticClass:"datatable-row-header"},[t._v(" "+t._s(t.$t("productions.status.closed"))+" ")])])]),t._l(t.closedProductions,(function(e){return o("tr",{key:e.id,staticClass:"datatable-row"},[o("th",{staticClass:"name datatable-row-header",attrs:{scope:"row"}},[o("production-name-cell",{attrs:{"with-avatar":!0,entry:e,"last-production-screen":t.lastProductionScreen,"is-link":!1}})],1),o("td",{staticClass:"type"},[t._v(" "+t._s(t.$t("productions.type."+(e.production_type||"short")))+" ")]),o("td",{staticClass:"style"},[t._v(" "+t._s(t.$t("productions.style."+(e.production_style||"3d")))+" ")]),o("td",{staticClass:"fps"},[t._v(" "+t._s(e.fps)+" ")]),o("td",{staticClass:"ratio"},[t._v(" "+t._s(e.ratio)+" ")]),o("td",{staticClass:"resolution"},[t._v(" "+t._s(e.resolution)+" ")]),o("row-actions-cell",{attrs:{"entry-id":e.id},on:{"edit-clicked":function(o){return t.$emit("edit-clicked",e)},"delete-clicked":function(o){return t.$emit("delete-clicked",e)}}})],1)}))],2):t._e()])]),o("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),o("p",{staticClass:"has-text-centered nb-productions"},[t._v(" "+t._s(t.entries.length)+" "+t._s(t.$tc("productions.number",t.entries.length))+" ")])],1)},c=[],a=o("09a4"),l=o("14b2"),d=o("e60b");function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function p(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach((function(e){y(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function y(t,e,o){return e=b(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function b(t){var e=m(t,"string");return"symbol"===u(e)?e:String(e)}function m(t,e){if("object"!==u(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h={name:"production-list",props:{entries:{type:Array,default:function(){return[]}},isError:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{}},components:{ProductionNameCell:a["a"],RowActionsCell:l["a"],TableInfo:d["a"]},computed:f(f({},Object(r["c"])(["openProductions","lastProductionScreen"])),{},{closedProductions:function(){return this.entries.filter((function(t){return"Closed"===t.project_status_name}))}}),methods:f(f({},Object(r["b"])([])),{},{getStatusLocale:function(t){var e={Active:"productions.status.open",Open:"productions.status.open",Closed:"productions.status.closed"};return e[t]}})},v=h,_=(o("9dbc"),o("2877")),g=Object(_["a"])(v,s,c,!1,null,"33768888",null),P=g.exports,w=o("1d3d"),C=o("2c1a"),O=o("e211"),D=o("8d07");function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function T(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function k(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach((function(e){x(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function x(t,e,o){return e=S(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function S(t){var e=E(t,"string");return"symbol"===j(e)?e:String(e)}function E(t,e){if("object"!==j(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!==j(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var $={name:"productions",components:{ButtonLink:O["a"],HardDeleteModal:C["a"],EditProductionModal:w["a"],PageTitle:D["a"],ProductionList:P},data:function(){return{errors:{del:!1,edit:!1},loading:{del:!1,edit:!1},modals:{isNewDisplayed:!1,isDeleteDisplayed:!1},productionToDelete:null,productionToEdit:null,choices:[]}},computed:k(k({},Object(r["c"])(["isProductionsLoading","isProductionsLoadingError","productionAvatarFormData","productions","productionMap"])),{},{currentLockText:function(){return this.productionToDelete?this.productionToDelete.name:""}}),created:function(){this.loadProductions()},methods:k(k({},Object(r["b"])(["deleteProduction","loadProductions","storeProductionPicture","uploadProductionAvatar"])),{},{confirmEditProduction:function(t){var e=this,o="newProduction",i=this.productionToEdit&&this.productionToEdit.id;i&&(o="editProduction",t.id=this.productionToEdit.id),this.loading.edit=!0,this.errors.edit=!1,this.$store.dispatch(o,t).then((function(){return i&&e.productionAvatarFormData?e.uploadProductionAvatar(t.id):Promise.resolve()})).then((function(){e.modals.isNewDisplayed=!1,e.loading.edit=!1})).catch((function(t){console.error(t),e.loading.edit=!1,e.errors.edit=!0}))},confirmDeleteProduction:function(){var t=this;this.loading.del=!0,this.errors.del=!1,this.deleteProduction(this.productionToDelete).then((function(){t.modals.isDeleteDisplayed=!1,t.loading.del=!1})).catch((function(e){console.error(e),t.errors.del=!0,t.loading.del=!1}))},deleteText:function(){var t=this.productionToDelete;return t?this.$t("productions.delete_text",{name:t.name}):""},onEditClicked:function(t){this.productionToEdit=t,this.modals.isNewDisplayed=!0},onDeleteClicked:function(t){this.productionToDelete=t,this.modals.isDeleteDisplayed=!0},onNewClicked:function(t){this.productionToEdit={},this.modals.isNewDisplayed=!0},onProductionPictureSelected:function(t){this.storeProductionPicture(t)}}),watch:{},metaInfo:function(){return{title:"".concat(this.$t("productions.title")," - Kitsu")}}},L=$,N=Object(_["a"])(L,i,n,!1,null,"a5c090ca",null);e["default"]=N.exports},7252:function(t,e,o){"use strict";o("7a52")},"7a52":function(t,e,o){},"7ab2":function(t,e,o){},"9dbc":function(t,e,o){"use strict";o("7ab2")},e211:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("router-link",{staticClass:"button",attrs:{title:t.title,to:t.path}},[t.icon.length>0&&t.icon.startsWith("fa")?o("span",{staticClass:"icon is-small"},[o("i",{class:"fa "+t.icon})]):t._e(),"plus"===t.icon?o("plus-icon",{class:{icon:!0,"is-small":!0,"only-icon":!t.isText}}):t._e(),"download"===t.icon?o("download-icon",{class:{icon:!0,"is-small":!0,"only-icon":!t.isText}}):t._e(),"upload"===t.icon?o("upload-icon",{class:{icon:!0,"is-small":!0,"only-icon":!t.isText}}):t._e(),"edit"===t.icon?o("edit-icon",{class:{icon:!0,"is-small":!0,"only-icon":!t.isText}}):t._e(),"delete"===t.icon?o("trash-icon",{class:{icon:!0,"is-small":!0,"only-icon":!t.isText}}):t._e(),"restore"===t.icon?o("rotate-ccw-icon",{class:{icon:!0,"is-small":!0,"only-icon":!t.isText}}):t._e(),t.isText?o("span",{class:{text:!0,"is-hidden-touch":t.isResponsive}},[t._v(" "+t._s(t.text)+" ")]):t._e()],1)},n=[],r=o("0a35"),s={name:"button-link",components:{DownloadIcon:r["v"],EditIcon:r["x"],PlusIcon:r["W"],RotateCcwIcon:r["Z"],TrashIcon:r["kb"],UploadIcon:r["nb"]},props:{text:{default:"",type:String},title:{default:"",type:String},path:{default:""},icon:{default:"",type:String},isResponsive:{default:!1,type:Boolean}},computed:{isText:function(){return this.text&&this.text.length>0}}},c=s,a=(o("7252"),o("2877")),l=Object(a["a"])(c,i,n,!1,null,"0ecdb93c",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-363156f8.75683e2a.js.map