(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ecc0bfd"],{"0a8e":function(t,e,r){},"319f":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"asset-types page fixed-page"},[r("list-page-header",{attrs:{title:t.$t("asset_types.title"),"new-entry-label":t.$t("asset_types.new_asset_type")},on:{"new-clicked":t.onNewClicked}}),r("asset-type-list",{staticClass:"mt2",attrs:{entries:t.assetTypes,"is-loading":t.loading.list,"is-error":t.errors.list},on:{"edit-clicked":t.onEditClicked,"delete-clicked":t.onDeleteClicked}}),r("edit-asset-type-modal",{attrs:{active:t.modals.edit,"is-loading":t.loading.edit,"is-error":t.errors.edit,"asset-type-to-edit":t.assetTypeToEdit},on:{cancel:function(e){t.modals.edit=!1},confirm:t.confirmEditAssetType}}),r("delete-modal",{attrs:{active:t.modals.del,"is-loading":t.loading.del,"is-error":t.errors.del,text:t.deleteText,"error-text":t.$t("asset_types.delete_error")},on:{cancel:function(e){t.modals.del=!1},confirm:t.confirmDeleteAssetType}})],1)},s=[],i=r("2f62"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"data-list"},[r("div",{staticClass:"datatable-wrapper"},[r("table",{staticClass:"datatable"},[r("thead",{staticClass:"datatable-head"},[r("tr",[r("th",{staticClass:"name",attrs:{scope:"col"}},[t._v(t._s(t.$t("asset_types.fields.name")))]),r("th",{staticClass:"task-types",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("asset_types.fields.task_types"))+" ")]),r("th",{staticClass:"actions",attrs:{scope:"col"}})])]),t.entries.length>0?r("tbody",{staticClass:"datatable-body"},t._l(t.entries,(function(e){return r("tr",{key:e.id,staticClass:"datatable-row"},[r("td",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")]),(e.task_types||[]).length>0?r("td",{staticClass:"task-types"},t._l(t.sortTaskTypes(e.task_types),(function(e){return r("span",{key:e.id,staticClass:"task-type-name flexrow-item"},[e.id?r("task-type-name",{attrs:{"task-type":e}}):t._e()],1)})),0):r("td",{staticClass:"task-types"},[t._v(" "+t._s(t.$t("asset_types.include_all"))+" ")]),r("row-actions-cell",{attrs:{"entry-id":e.id},on:{"edit-clicked":function(r){return t.$emit("edit-clicked",e)},"delete-clicked":function(r){return t.$emit("delete-clicked",e)}}})],1)})),0):t._e()])]),r("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),r("p",{staticClass:"has-text-centered nb-asset-types"},[t._v(" "+t._s(t.entries.length)+" "+t._s(t.$tc("asset_types.number",t.entries.length))+" ")])],1)},a=[],l=r("2229"),c=r("14b2"),u=r("e60b"),p=r("274f");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e=b(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=v(t,"string");return"symbol"===f(e)?e:String(e)}function v(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h={name:"asset-type-list",props:{entries:{type:Array,default:function(){return[]}},isError:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{}},components:{TaskTypeName:p["a"],RowActionsCell:c["a"],TableInfo:u["a"]},computed:d({},Object(i["c"])(["taskTypeMap"])),methods:d(d({},Object(i["b"])([])),{},{sortTaskTypes:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=e.map((function(e){return t.taskTypeMap.get(e)}));return Object(l["p"])(r)}})},g=h,T=(r("7033"),r("2877")),O=Object(T["a"])(g,o,a,!1,null,"1a42f56f",null),j=O.exports,_=r("5f48"),k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{modal:!0,"is-active":t.active}},[r("div",{staticClass:"modal-background",on:{click:function(e){return t.$emit("cancel")}}}),r("div",{staticClass:"modal-content"},[r("div",{staticClass:"box"},[t.assetTypeToEdit&&t.assetTypeToEdit.id?r("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("asset_types.edit_title"))+" "+t._s(t.assetTypeToEdit.name)+" ")]):r("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("asset_types.new_asset_type"))+" ")]),r("form",{on:{submit:function(t){t.preventDefault()}}},[r("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{label:t.$t("asset_types.fields.name"),maxlength:30},on:{enter:t.runConfirmation},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),r("label",{staticClass:"label"},[t._v(" "+t._s(t.$t("asset_types.fields.task_types"))+" ")]),r("div",{staticClass:"flexrow task-types mb1"},[t._l(t.form.task_types,(function(e){return r("div",{key:e,staticClass:"flexrow-item mb1",on:{click:function(r){return t.removeTaskType(e)}}},[e?r("task-type-name",{attrs:{"task-type":t.taskTypeMap.get(e),deletable:!0}}):t._e()],1)})),t.availableTaskTypes.length>1?r("combobox",{staticClass:"flexrow-item mb1",attrs:{options:t.availableTaskTypes,"with-margin":!1},on:{input:function(e){t.taskTypeMap.get(e)&&t.form.task_types.push(e)}}}):t._e()],2)],1),r("modal-footer",{attrs:{"error-text":t.$t("asset_types.create_error"),"is-error":t.isError,"is-loading":t.isLoading},on:{confirm:t.runConfirmation,cancel:function(e){return t.$emit("cancel")}}})],1)])])},w=[],S=r("d065"),P=r("992f"),E=r("d5c9"),C=r("7bf8");function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function $(t){return N(t)||M(t)||A(t)||D()}function D(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t,e){if(t){if("string"===typeof t)return L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(t,e):void 0}}function M(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function N(t){if(Array.isArray(t))return L(t)}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach((function(e){F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t,e,r){return e=J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(t){var e=H(t,"string");return"symbol"===x(e)?e:String(e)}function H(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var K={name:"edit-asset-type-modal",mixins:[S["a"]],components:{Combobox:P["a"],TaskTypeName:p["a"],ModalFooter:E["a"],TextField:C["a"]},props:{active:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},assetTypeToEdit:{type:Object,default:function(){}}},data:function(){return{form:{name:"",task_types:[]}}},computed:I(I({},Object(i["c"])(["taskTypes","taskTypeMap","assetTypes","assetTypeStatusOptions"])),{},{availableTaskTypes:function(){var t=this,e=Object(l["d"])(this.taskTypes.filter((function(e){return-1===t.form.task_types.indexOf(e.id)&&"Asset"===e.for_entity})));return[{name:"+ Task Type",id:"-"}].concat($(e)).map((function(t){return{label:t.name,value:t.id}}))}}),methods:I(I({},Object(i["b"])(["loadTaskTypes"])),{},{removeTaskType:function(t){var e=this.form.task_types.indexOf(t);e>=0&&this.form.task_types.splice(e,1)},runConfirmation:function(){this.$emit("confirm",this.form)}}),watch:{active:function(){var t=this;this.active&&setTimeout((function(){t.$refs.nameField.focus()}),100)},assetTypeToEdit:function(){if(this.assetTypeToEdit.id){var t=this.assetTypeToEdit.task_types||[];this.form={name:this.assetTypeToEdit.name,task_types:$(t)}}else this.form={name:"",task_types:[]}}}},R=K,U=(r("ef96"),Object(T["a"])(R,k,w,!1,null,"43d04120",null)),q=U.exports,z=r("459c");function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t,e,r){return e=X(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X(t){var e=Y(t,"string");return"symbol"===G(e)?e:String(e)}function Y(t,e){if("object"!==G(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Z={name:"asset-types",components:{AssetTypeList:j,DeleteModal:_["a"],EditAssetTypeModal:q,ListPageHeader:z["a"]},data:function(){return{assetTypeToDelete:null,assetTypeToEdit:{},choices:[],errors:{del:!1,edit:!1,list:!1},modals:{del:!1,edit:!1},loading:{del:!1,edit:!1,list:!1}}},computed:V(V({},Object(i["c"])(["assetTypes","getAssetType"])),{},{deleteText:function(){var t=this.assetTypeToDelete;return t?this.$t("asset_types.delete_text",{name:t.name}):""}}),methods:V(V({},Object(i["b"])(["deleteAssetType","editAssetType","newAssetType","loadAssetTypes"])),{},{confirmEditAssetType:function(t){var e=this,r="newAssetType";this.assetTypeToEdit&&this.assetTypeToEdit.id&&(r="editAssetType",t.id=this.assetTypeToEdit.id),this.loading.edit=!0,this.errors.edit=!1,this[r](t).then((function(){e.loading.edit=!1,e.modals.edit=!1})).catch((function(t){console.error(t),e.loading.edit=!1,e.errors.edit=!0}))},confirmDeleteAssetType:function(){var t=this;this.loading.del=!0,this.errors.del=!1,this.deleteAssetType(this.assetTypeToDelete).then((function(){t.loading.del=!1,t.modals.del=!1})).catch((function(e){console.error(e),t.errors.del=!0,t.loading.del=!1}))},onNewClicked:function(){this.assetTypeToEdit={},this.errors.edit=!1,this.modals.edit=!0},onEditClicked:function(t){this.assetTypeToEdit=t,this.errors.edit=!1,this.modals.edit=!0},onDeleteClicked:function(t){this.assetTypeToDelete=t,this.errors.del=!1,this.modals.del=!0}}),watch:{},metaInfo:function(){return{title:"".concat(this.$t("asset_types.title")," - Kitsu")}}},tt=Z,et=Object(T["a"])(tt,n,s,!1,null,"c5daabc0",null);e["default"]=et.exports},"459c":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"level page-header"},[r("div",{staticClass:"level-left"},[r("page-title",{attrs:{text:t.title}})],1),r("div",{staticClass:"level-right"},[r("button-simple",{staticClass:"level-item",attrs:{icon:"plus",text:t.newEntryLabel},on:{click:function(e){return t.$emit("new-clicked")}}})],1)])},s=[],i=r("2f62"),o=r("de40"),a=r("8d07");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e=f(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){var e=y(t,"string");return"symbol"===l(e)?e:String(e)}function y(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var d={name:"list-page-header",components:{ButtonSimple:o["a"],PageTitle:a["a"]},props:{title:{type:String,default:""},newEntryLabel:{type:String,default:""}},computed:u({},Object(i["c"])([])),methods:u({},Object(i["b"])([])),watch:{}},m=d,b=r("2877"),v=Object(b["a"])(m,n,s,!1,null,"bf4864ae",null);e["a"]=v.exports},7033:function(t,e,r){"use strict";r("0a8e")},e288:function(t,e,r){},ef96:function(t,e,r){"use strict";r("e288")}}]);
//# sourceMappingURL=chunk-7ecc0bfd.b075f49a.js.map