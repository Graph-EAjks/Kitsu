{"version":3,"sources":["webpack:///./src/components/modals/EditStatusAutomationModal.vue?3bc1","webpack:///./src/components/widgets/ListPageHeader.vue?91dd","webpack:///src/components/widgets/ListPageHeader.vue","webpack:///./src/components/widgets/ListPageHeader.vue?38a4","webpack:///./src/components/widgets/ListPageHeader.vue","webpack:///./src/components/pages/StatusAutomations.vue?ab76","webpack:///./src/components/modals/EditStatusAutomationModal.vue?0cb1","webpack:///src/components/modals/EditStatusAutomationModal.vue","webpack:///./src/components/modals/EditStatusAutomationModal.vue?2b4f","webpack:///./src/components/modals/EditStatusAutomationModal.vue","webpack:///src/components/pages/StatusAutomations.vue","webpack:///./src/components/pages/StatusAutomations.vue?7e10","webpack:///./src/components/pages/StatusAutomations.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","newEntryLabel","on","$event","$emit","staticRenderFns","name","components","ButtonSimple","PageTitle","props","type","default","computed","mapGetters","methods","mapActions","watch","component","$t","onNewClicked","statusAutomations","loading","list","errors","onEditClicked","onDeleteClicked","modals","edit","statusAutomationToEdit","confirmEditStatusAutomation","del","deleteText","confirmDeleteStatusAutomation","class","active","isEditing","_v","_s","preventDefault","form","entityType","entityTypeOptions","confirmClicked","model","value","callback","$$v","$set","expression","inEntityTaskTypes","productionTaskStatuses","_e","fieldTypeOptions","outFieldType","outEntityTaskTypes","isError","mixins","Combobox","ComboboxTaskType","ComboboxStatus","ModalFooter","data","label","mode","inTaskTypeId","outTaskTypeId","inTaskStatusId","outTaskStatusId","setTaskTypes","entityTaskTypes","DeleteModal","EditStatusAutomationModal","ListPageHeader","StatusAutomationList","statusAutomationToDelete","created","action","then","catch","console","$route","metaInfo"],"mappings":"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,iBACA,gDACA,kDACA,eACA,wCACA,+DCtPkX,I,wBCQ9WlD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,2sBC0BA,OACfZ,0BAEAC,YACAgE,mBACAC,4BACAC,sBACAC,6BAGAZ,gBACA,OACAnC,QACAC,QACAG,QAEAT,SACAM,QACAG,OACAR,SAEAC,QACAI,QACAG,OACAR,SAEAoD,8BACA9C,8BAIAhB,gBACAC,gBACA,uBACA,IAEAkB,sBACA,oCACA,SACA,QACA,8BAAA1B,cAEA,MAKAsE,mBAAA,WACA,qBACA,oBACA,wCACA,kBACA,IACA,sBAKA7D,eACAC,gBACA,yBACA,uBACA,mBACA,wBACA,yBACA,IAEAc,wCAAA,WACA,wBACA,8DACA+C,yBACArC,qCAGA,qBACA,oBACA,WACAsC,iBACA,kBACA,oBAEAC,mBACAC,iBACA,iBACA,sBAIA/C,yCAAA,WACA,oBACA,mBACA,2DACA6C,iBACA,iBACA,mBAEAC,mBACAC,iBACA,gBACA,qBAIA5D,wBACA,+BACA,oBACA,qBAGAK,0BACA,8BACA,oBACA,qBAGAC,4BACA,gCACA,mBACA,sBAIAT,OACAgE,kBAAA,6BAGAC,oBACA,OACAlF,mEC7K0W,ICOtW,EAAY,eACd,EACAT,EACAc,GACA,EACA,KACA,WACA,MAIa,e","file":"js/chunk-e8c029b4.d6f13a59.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditStatusAutomationModal.vue?vue&type=style&index=0&id=32b11fbb&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"level page-header\"},[_c('div',{staticClass:\"level-left\"},[_c('page-title',{attrs:{\"text\":_vm.title}})],1),_c('div',{staticClass:\"level-right\"},[_c('button-simple',{staticClass:\"level-item\",attrs:{\"icon\":\"plus\",\"text\":_vm.newEntryLabel},on:{\"click\":function($event){return _vm.$emit('new-clicked')}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"level page-header\">\n  <div class=\"level-left\">\n    <page-title :text=\"title\" />\n  </div>\n  <div class=\"level-right\">\n    <button-simple\n      class=\"level-item\"\n      icon=\"plus\"\n      :text=\"newEntryLabel\"\n      @click=\"$emit('new-clicked')\"\n    />\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple'\nimport PageTitle from '@/components/widgets/PageTitle'\n\nexport default {\n  name: 'list-page-header',\n\n  components: {\n    ButtonSimple,\n    PageTitle\n  },\n\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    newEntryLabel: {\n      type: String,\n      default: ''\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n    ])\n  },\n\n  methods: {\n    ...mapActions([\n    ])\n  },\n\n  watch: {}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListPageHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListPageHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListPageHeader.vue?vue&type=template&id=bf4864ae&scoped=true&\"\nimport script from \"./ListPageHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./ListPageHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf4864ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"status-automations page fixed-page\"},[_c('list-page-header',{attrs:{\"title\":_vm.$t('status_automations.title'),\"new-entry-label\":_vm.$t('status_automations.new_status_automation')},on:{\"new-clicked\":_vm.onNewClicked}}),_c('status-automation-list',{attrs:{\"entries\":_vm.statusAutomations,\"is-editable\":true,\"is-loading\":_vm.loading.list,\"is-error\":_vm.errors.list},on:{\"edit-clicked\":_vm.onEditClicked,\"delete-clicked\":_vm.onDeleteClicked}}),_c('edit-status-automation-modal',{attrs:{\"active\":_vm.modals.edit,\"is-loading\":_vm.loading.edit,\"is-error\":_vm.errors.edit,\"status-automation-to-edit\":_vm.statusAutomationToEdit},on:{\"cancel\":function($event){_vm.modals.edit = false},\"confirm\":_vm.confirmEditStatusAutomation}}),_c('delete-modal',{attrs:{\"active\":_vm.modals.del,\"is-loading\":_vm.loading.del,\"is-error\":_vm.errors.del,\"text\":_vm.deleteText,\"error-text\":_vm.$t('status_automations.delete_error')},on:{\"cancel\":function($event){_vm.modals.del = false},\"confirm\":_vm.confirmDeleteStatusAutomation}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n  'modal': true,\n  'is-active': _vm.active\n}},[_c('div',{staticClass:\"modal-background\",on:{\"click\":function($event){return _vm.$emit('cancel')}}}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"box\"},[(_vm.isEditing())?_c('h1',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"status_automations.edit_title\"))+\" \")]):_c('h1',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"status_automations.new_status_automation\"))+\" \")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('h2',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t(\"status_automations.entity_title\")))]),(!_vm.isEditing())?_c('combobox',{attrs:{\"label\":_vm.$t('status_automations.fields.entity_type'),\"options\":_vm.entityTypeOptions,\"locale-key-prefix\":\"status_automations.entity_types.\"},on:{\"enter\":_vm.confirmClicked},model:{value:(_vm.form.entityType),callback:function ($$v) {_vm.$set(_vm.form, \"entityType\", $$v)},expression:\"form.entityType\"}}):_c('span',[_vm._v(\" \"+_vm._s(_vm.form.entityType)+\" \")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t(\"status_automations.in_title\")))]),_c('div',{staticClass:\"flexrow\"},[_c('combobox-task-type',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('status_automations.fields.in_task_type'),\"task-type-list\":_vm.form.inEntityTaskTypes},on:{\"enter\":_vm.confirmClicked},model:{value:(_vm.form.inTaskTypeId),callback:function ($$v) {_vm.$set(_vm.form, \"inTaskTypeId\", $$v)},expression:\"form.inTaskTypeId\"}}),_c('combobox-status',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('status_automations.fields.in_task_status'),\"task-status-list\":_vm.productionTaskStatuses},on:{\"enter\":_vm.confirmClicked},model:{value:(_vm.form.inTaskStatusId),callback:function ($$v) {_vm.$set(_vm.form, \"inTaskStatusId\", $$v)},expression:\"form.inTaskStatusId\"}})],1),_c('h2',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t(\"status_automations.out_title\")))]),_c('div',{staticClass:\"flexrow\"},[(!_vm.isEditing() && _vm.form.entityType == 'asset')?_c('combobox',{staticClass:\"flexrow-item margin-fix\",attrs:{\"label\":_vm.$t('status_automations.fields.out_field_type'),\"options\":_vm.fieldTypeOptions,\"locale-key-prefix\":\"status_automations.field_types.\"},on:{\"enter\":_vm.confirmClicked},model:{value:(_vm.form.outFieldType),callback:function ($$v) {_vm.$set(_vm.form, \"outFieldType\", $$v)},expression:\"form.outFieldType\"}}):_vm._e(),(_vm.isEditing() && _vm.form.outFieldType == 'ready_for')?_c('span',{staticClass:\"flexrow-item\"},[_vm._v(\" Ready For \")]):_vm._e(),_c('combobox-task-type',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('status_automations.fields.out_task_type'),\"task-type-list\":_vm.form.outEntityTaskTypes,\"open-top\":true},on:{\"enter\":_vm.confirmClicked},model:{value:(_vm.form.outTaskTypeId),callback:function ($$v) {_vm.$set(_vm.form, \"outTaskTypeId\", $$v)},expression:\"form.outTaskTypeId\"}}),(_vm.form.outFieldType == 'status')?_c('combobox-status',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('status_automations.fields.out_task_status'),\"task-status-list\":_vm.productionTaskStatuses,\"open-top\":true},on:{\"enter\":_vm.confirmClicked},model:{value:(_vm.form.outTaskStatusId),callback:function ($$v) {_vm.$set(_vm.form, \"outTaskStatusId\", $$v)},expression:\"form.outTaskStatusId\"}}):_vm._e()],1)],1),_c('modal-footer',{attrs:{\"error-text\":_vm.$t('status_automations.create_error'),\"is-error\":_vm.isError},on:{\"confirm\":_vm.confirmClicked,\"cancel\":function($event){return _vm.$emit('cancel')}}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div :class=\"{\n  'modal': true,\n  'is-active': active\n}\">\n  <div class=\"modal-background\" @click=\"$emit('cancel')\" ></div>\n\n  <div class=\"modal-content\">\n    <div class=\"box\">\n      <h1 class=\"title\" v-if=\"isEditing()\">\n        {{ $t(\"status_automations.edit_title\") }}\n      </h1>\n      <h1 class=\"title\" v-else>\n        {{ $t(\"status_automations.new_status_automation\") }}\n      </h1>\n\n      <form v-on:submit.prevent>\n        <h2 class=\"subtitle\">{{ $t(\"status_automations.entity_title\") }}</h2>\n        <combobox\n          :label=\"$t('status_automations.fields.entity_type')\"\n          :options=\"entityTypeOptions\"\n          v-if=\"!isEditing()\"\n          v-model=\"form.entityType\"\n          locale-key-prefix=\"status_automations.entity_types.\"\n          @enter=\"confirmClicked\"\n        />\n        <span v-else> {{ form.entityType }} </span>\n\n        <h2 class=\"subtitle\">{{ $t(\"status_automations.in_title\") }}</h2>\n\n        <div class=\"flexrow\">\n\n          <combobox-task-type\n            class=\"flexrow-item\"\n            :label=\"$t('status_automations.fields.in_task_type')\"\n            :task-type-list=\"form.inEntityTaskTypes\"\n            v-model=\"form.inTaskTypeId\"\n            @enter=\"confirmClicked\"\n          />\n\n          <combobox-status\n            class=\"flexrow-item\"\n            :label=\"$t('status_automations.fields.in_task_status')\"\n            :task-status-list=\"productionTaskStatuses\"\n            v-model=\"form.inTaskStatusId\"\n            @enter=\"confirmClicked\"\n          />\n        </div>\n\n        <h2 class=\"subtitle\">{{ $t(\"status_automations.out_title\") }}</h2>\n\n        <div class=\"flexrow\">\n          <combobox\n            class=\"flexrow-item margin-fix\"\n            :label=\"$t('status_automations.fields.out_field_type')\"\n            :options=\"fieldTypeOptions\"\n            locale-key-prefix=\"status_automations.field_types.\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.outFieldType\"\n            v-if=\"!isEditing() && form.entityType == 'asset'\"\n          />\n          <span\n            class=\"flexrow-item\"\n            v-if=\"isEditing() && form.outFieldType == 'ready_for'\">\n              Ready For\n          </span>\n\n          <combobox-task-type class=\"flexrow-item\"\n            :label=\"$t('status_automations.fields.out_task_type')\"\n            :task-type-list=\"form.outEntityTaskTypes\"\n            :open-top=\"true\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.outTaskTypeId\"\n          />\n\n          <combobox-status class=\"flexrow-item\"\n            :label=\"$t('status_automations.fields.out_task_status')\"\n            :task-status-list=\"productionTaskStatuses\"\n            :open-top=\"true\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.outTaskStatusId\"\n            v-if=\"form.outFieldType == 'status'\"\n          />\n        </div>\n      </form>\n\n      <modal-footer\n        :error-text=\"$t('status_automations.create_error')\"\n        :is-error=\"isError\"\n        @confirm=\"confirmClicked\"\n        @cancel=\"$emit('cancel')\"\n      />\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { modalMixin } from '@/components/modals/base_modal'\nimport Combobox from '@/components/widgets/Combobox'\nimport ComboboxTaskType from '@/components/widgets/ComboboxTaskType'\nimport ComboboxStatus from '@/components/widgets/ComboboxStatus'\nimport ModalFooter from '@/components/modals/ModalFooter'\n\nexport default {\n  name: 'edit-status-automation-modal',\n  mixins: [modalMixin],\n  components: {\n    Combobox,\n    ComboboxTaskType,\n    ComboboxStatus,\n    ModalFooter\n  },\n\n  props: [\n    'onConfirmClicked',\n    'text',\n    'active',\n    'isLoading',\n    'isError',\n    'errorText',\n    'statusAutomationToEdit',\n    'taskStatus'\n  ],\n\n  computed: {\n    ...mapGetters([\n      'statusAutomations',\n      'statusAutomationsStatusOptions',\n      'assetTaskTypes',\n      'shotTaskTypes',\n      'productionTaskTypes',\n      'productionTaskStatuses'\n    ])\n  },\n\n  data () {\n    return {\n      entityTypeOptions: [\n        {\n          label: 'asset',\n          value: 'asset'\n        },\n        {\n          label: 'shot',\n          value: 'shot'\n        }\n      ],\n      fieldTypeOptions: [\n        {\n          label: 'status',\n          value: 'status'\n        },\n        {\n          label: 'ready_for',\n          value: 'ready_for'\n        }\n      ],\n      form: {\n        entityType: 'asset',\n        mode: 'status',\n        inEntityTaskTypes: [],\n        outEntityTaskTypes: [],\n        inTaskTypeId: '',\n        outTaskTypeId: '',\n        inTaskStatusId: '',\n        outTaskStatusId: ''\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n    confirmClicked () {\n      this.$emit('confirm', this.form)\n    },\n    isEditing () {\n      return this.statusAutomationToEdit && this.statusAutomationToEdit.id\n    },\n    setTaskTypes (fieldType) {\n      if (fieldType === 'asset') {\n        this.form.inEntityTaskTypes = this.assetTaskTypes\n        this.form.outEntityTaskTypes = this.assetTaskTypes\n      } else if (fieldType === 'shot') {\n        this.form.inEntityTaskTypes = this.shotTaskTypes\n        this.form.outEntityTaskTypes = this.shotTaskTypes\n      }\n    }\n  },\n\n  watch: {\n    statusAutomationToEdit () {\n      if (this.statusAutomationToEdit) {\n        var entityTaskTypes = []\n        if (this.form.entityType === 'asset') {\n          entityTaskTypes = this.assetTaskTypes\n        } else if (this.form.entityType === 'shot') {\n          entityTaskTypes = this.shotTaskTypes\n        }\n        this.form = {\n          entityType: this.isEditing()\n            ? this.statusAutomationToEdit.entity_type\n            : 'asset',\n          inEntityTaskTypes: entityTaskTypes,\n          outEntityTaskTypes: entityTaskTypes,\n          inTaskTypeId: this.isEditing()\n            ? this.statusAutomationToEdit.in_task_type_id\n            : entityTaskTypes[0].id,\n          inTaskStatusId: this.isEditing()\n            ? this.statusAutomationToEdit.in_task_status_id\n            : this.productionTaskStatuses[0].id,\n          outFieldType: this.isEditing()\n            ? this.statusAutomationToEdit.out_field_type\n            : 'status',\n          outTaskTypeId: this.isEditing()\n            ? this.statusAutomationToEdit.out_task_type_id\n            : entityTaskTypes[1].id,\n          outTaskStatusId: this.isEditing()\n            ? this.statusAutomationToEdit.out_task_status_id\n            : this.productionTaskStatuses[1].id\n        }\n      }\n    },\n\n    // Adapt available values to the entity type\n    'form.entityType': function (entityType) {\n      this.setTaskTypes(entityType)\n      if (!this.isEditing()) {\n        this.form.inTaskTypeId = this.form.inEntityTaskTypes[0].id\n        this.form.inTaskStatusId = this.productionTaskStatuses[0].id\n        this.form.outTaskTypeId = this.form.outEntityTaskTypes[1].id\n        this.form.outTaskStatusId = this.productionTaskStatuses[1].id\n      }\n    },\n\n    // Adapt available values to the automation type\n    // * Ready for apply to assets\n    // * Status apply to the same entity.\n    'form.outFieldType': function (outFieldType) {\n      if (outFieldType === 'ready_for') {\n        this.form.outEntityTaskTypes = this.shotTaskTypes\n        this.form.outTaskTypeId = this.shotTaskTypes[1].id\n      } else if (outFieldType === 'status') {\n        this.setTaskTypes(this.form.entityType)\n        this.form.outTaskTypeId = this.form.outEntityTaskTypes[1].id\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.margin-fix {\n  margin-top: 5px;\n}\n.subtitle {\n  font-size: 1.4em;\n  margin-top: 1.5em;\n  margin-bottom: 0.5em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditStatusAutomationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditStatusAutomationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditStatusAutomationModal.vue?vue&type=template&id=32b11fbb&scoped=true&\"\nimport script from \"./EditStatusAutomationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditStatusAutomationModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditStatusAutomationModal.vue?vue&type=style&index=0&id=32b11fbb&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32b11fbb\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"status-automations page fixed-page\">\n    <list-page-header\n      :title=\"$t('status_automations.title')\"\n      :new-entry-label=\"$t('status_automations.new_status_automation')\"\n      @new-clicked=\"onNewClicked\"\n    />\n\n    <status-automation-list\n      :entries=\"statusAutomations\"\n      :is-editable=\"true\"\n      :is-loading=\"loading.list\"\n      :is-error=\"errors.list\"\n      @edit-clicked=\"onEditClicked\"\n      @delete-clicked=\"onDeleteClicked\"\n    />\n\n    <edit-status-automation-modal\n      :active=\"modals.edit\"\n      :is-loading=\"loading.edit\"\n      :is-error=\"errors.edit\"\n      :status-automation-to-edit=\"statusAutomationToEdit\"\n      @cancel=\"modals.edit = false\"\n      @confirm=\"confirmEditStatusAutomation\"\n    />\n\n    <delete-modal\n      :active=\"modals.del\"\n      :is-loading=\"loading.del\"\n      :is-error=\"errors.del\"\n      :text=\"deleteText\"\n      :error-text=\"$t('status_automations.delete_error')\"\n      @cancel=\"modals.del = false\"\n      @confirm=\"confirmDeleteStatusAutomation\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport StatusAutomationList from '@/components/lists/StatusAutomationList'\nimport DeleteModal from '@/components/modals/DeleteModal'\nimport EditStatusAutomationModal from '@/components/modals/EditStatusAutomationModal'\nimport ListPageHeader from '@/components/widgets/ListPageHeader'\n\nexport default {\n  name: 'status-automations',\n\n  components: {\n    DeleteModal,\n    EditStatusAutomationModal,\n    ListPageHeader,\n    StatusAutomationList\n  },\n\n  data () {\n    return {\n      modals: {\n        edit: false,\n        del: false\n      },\n      loading: {\n        edit: false,\n        del: false,\n        list: false\n      },\n      errors: {\n        edit: false,\n        del: false,\n        list: false\n      },\n      statusAutomationToDelete: null,\n      statusAutomationToEdit: null\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'statusAutomations'\n    ]),\n\n    deleteText () {\n      const statusAutomation = this.statusAutomationToDelete\n      if (statusAutomation) {\n        return this.$t(\n          'custom_actions.delete_text', { name: statusAutomation.name })\n      } else {\n        return ''\n      }\n    }\n  },\n\n  created () {\n    this.loading.list = true\n    this.errors.list = false\n    this.loadStatusAutomations((err) => {\n      this.loading.list = false\n      if (err) {\n        this.errors.list = true\n      }\n    })\n  },\n\n  methods: {\n    ...mapActions([\n      'deleteStatusAutomation',\n      'editStatusAutomation',\n      'loadTaskStatuses',\n      'loadStatusAutomations',\n      'newStatusAutomation'\n    ]),\n\n    confirmEditStatusAutomation (form) {\n      let action = 'newStatusAutomation'\n      if (this.statusAutomationToEdit && this.statusAutomationToEdit.id) {\n        action = 'editStatusAutomation'\n        form.id = this.statusAutomationToEdit.id\n      }\n\n      this.loading.edit = true\n      this.errors.edit = false\n      this[action](form)\n        .then(() => {\n          this.loading.edit = false\n          this.modals.edit = false\n        })\n        .catch((err) => {\n          console.error(err)\n          this.errors.edit = true\n          this.loading.edit = false\n        })\n    },\n\n    confirmDeleteStatusAutomation () {\n      this.loading.del = true\n      this.errors.del = false\n      this.deleteStatusAutomation(this.statusAutomationToDelete)\n        .then(() => {\n          this.loading.del = false\n          this.modals.del = false\n        })\n        .catch((err) => {\n          console.error(err)\n          this.errors.del = true\n          this.loading.del = false\n        })\n    },\n\n    onNewClicked () {\n      this.statusAutomationToEdit = {}\n      this.errors.edit = false\n      this.modals.edit = true\n    },\n\n    onEditClicked (statusAutomation) {\n      this.statusAutomationToEdit = statusAutomation\n      this.errors.edit = false\n      this.modals.edit = true\n    },\n\n    onDeleteClicked (statusAutomation) {\n      this.statusAutomationToDelete = statusAutomation\n      this.errors.del = false\n      this.modals.del = true\n    }\n  },\n\n  watch: {\n    $route () { this.handleModalsDisplay() }\n  },\n\n  metaInfo () {\n    return {\n      title: `${this.$t('status_automations.title')} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusAutomations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusAutomations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatusAutomations.vue?vue&type=template&id=b1ef43c8&scoped=true&\"\nimport script from \"./StatusAutomations.vue?vue&type=script&lang=js&\"\nexport * from \"./StatusAutomations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1ef43c8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}